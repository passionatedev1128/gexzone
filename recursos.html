<!DOCTYPE html>
<html lang="es_ES">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recursos - GEXZONE</title>
  <meta name="description" content="Recursos de alto rendimiento: herramientas, fuentes de datos, modelos de probabilidad y simulador delta hedging." />
  <style>

@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600&family=DM+Sans:wght@400;500;600;700&display=swap');

:root {
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --transition-fast: 0.15s ease;
  --transition-base: 0.25s ease;
  --transition-smooth: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Dark theme (default) */
:root,
[data-theme="night"] {
  --bg-primary: #0a0e14;
  --bg-secondary: #111820;
  --bg-soft: #161d28;
  --bg-card: rgba(255, 255, 255, 0.035);
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
  --accent-blue: #60a5fa;
  --accent-blue-dim: rgba(96, 165, 250, 0.15);
  --accent-gold: #eab308;
  --accent-gold-soft: #facc15;
  --accent-gradient-start: #93c5fd;
  --accent-gradient-end: #fde047;
  --border-subtle: rgba(255, 255, 255, 0.06);
  --border-accent: rgba(96, 165, 250, 0.4);
  --nav-bg: rgba(10, 14, 20, 0.88);
  --btn-primary-bg: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  --btn-primary-hover: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
  --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.3);
  --shadow-card-hover: 0 12px 40px rgba(0, 0, 0, 0.35);
  --shadow-glow: 0 0 40px rgba(96, 165, 250, 0.08);
  --hero-bg: #070a0f;
}

/* Light theme */
[data-theme="day"] {
  --bg-primary: #f8fafc;
  --bg-secondary: #f1f5f9;
  --bg-soft: #e2e8f0;
  --bg-card: rgba(0, 0, 0, 0.03);
  --text-primary: #0f172a;
  --text-secondary: #475569;
  --text-muted: #64748b;
  --accent-blue: #2563eb;
  --accent-blue-dim: rgba(37, 99, 235, 0.12);
  --accent-gold: #ca8a04;
  --accent-gold-soft: #eab308;
  --accent-gradient-start: #3b82f6;
  --accent-gradient-end: #eab308;
  --border-subtle: rgba(0, 0, 0, 0.08);
  --border-accent: rgba(37, 99, 235, 0.4);
  --nav-bg: rgba(248, 250, 252, 0.92);
  --btn-primary-bg: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
  --btn-primary-hover: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.08);
  --shadow-card-hover: 0 12px 40px rgba(0, 0, 0, 0.12);
  --shadow-glow: 0 0 40px rgba(37, 99, 235, 0.06);
  --hero-bg: #f1f5f9;
}

/* ---- Custom scrollbar ---- */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg-soft);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 5px;
  border: 2px solid var(--bg-soft);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.18);
}

::-webkit-scrollbar-corner {
  background: var(--bg-soft);
}

@supports (scrollbar-color: rgba(255,255,255,0.15) transparent) {
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.15) var(--bg-soft);
  }
}

[data-theme="day"] ::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
}

[data-theme="day"] ::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.25);
}

@supports (scrollbar-color: rgba(0,0,0,0.2) transparent) {
  [data-theme="day"] * {
    scrollbar-color: rgba(0, 0, 0, 0.2) var(--bg-soft);
  }
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  height: 100%;
}

body {
  font-family: 'DM Sans', system-ui, -apple-system, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 1rem;
  line-height: 1.7;
  letter-spacing: 0.01em;
  overflow-x: hidden;
  min-height: 100%;
  display: flex;
  flex-direction: column;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body.rtl {
  direction: rtl;
  text-align: right;
}

a {
  text-decoration: none;
  color: inherit;
  transition: color var(--transition-fast), opacity var(--transition-fast);
}

a:hover {
  opacity: 0.92;
}

a:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

main {
  flex: 1 0 auto;
  padding-top: 5rem;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ---- Typography ---- */
.font-serif {
  font-family: 'Cormorant Garamond', Georgia, serif;
}

h1, h2, h3, h4 {
  font-weight: 600;
  letter-spacing: 0.02em;
  line-height: 1.3;
}

/* ---- Skip link (a11y) ---- */
.skip-link {
  position: absolute;
  top: -3rem;
  left: 1rem;
  z-index: 10000;
  padding: 0.75rem 1.25rem;
  background: var(--accent-blue);
  color: #fff;
  font-size: 0.9rem;
  font-weight: 600;
  border-radius: var(--radius-sm);
  transition: top var(--transition-fast);
}

.skip-link:focus {
  top: 1rem;
  outline: 2px solid #fff;
  outline-offset: 2px;
}

/* ---- Layout ---- */
.section {
  padding: clamp(2rem, 5vw, 3.5rem) clamp(1rem, 4%, 5%);
}

.container {
  max-width: 1280px;
  margin: 0 auto;
}

/* ---- Header / Nav ---- */
.site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  background: var(--nav-bg);
  backdrop-filter: blur(24px) saturate(1.1);
  -webkit-backdrop-filter: blur(24px) saturate(1.1);
  border-bottom: 1px solid var(--border-subtle);
  transition: background var(--transition-base), border-color var(--transition-base);
}

.site-header .container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem clamp(1.25rem, 4%, 5%);
  gap: 1.5rem;
}

/* Logo: reference style (gex_volatility_cycle.html) — GEX + ZONE + bars */
.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
  text-decoration: none;
  color: inherit;
  transition: opacity var(--transition-fast);
}

.logo:hover {
  opacity: 0.92;
}

.logo__brand {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}

.logo__text {
  font-size: clamp(1.5rem, 3.5vw, 2.25rem);
  font-weight: 700;
  letter-spacing: 0.2em;
  background: linear-gradient(135deg, #60a5fa 0%, #22d3ee 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.logo__tagline {
  font-size: 0.7rem;
  font-weight: 500;
  letter-spacing: 0.2em;
  color: #a78bfa;
  margin-top: 0.15rem;
}

.logo__bars {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.logo__bar {
  display: block;
  height: 3px;
  border-radius: 2px;
  background: linear-gradient(90deg, #60a5fa 0%, #a78bfa 100%);
}

.logo__bar:nth-child(1) { width: 42px; }
.logo__bar:nth-child(2) { width: 54px; }
.logo__bar:nth-child(3) { width: 32px; }
.logo__bar:nth-child(4) { width: 48px; }

[data-theme="day"] .logo__text {
  background: linear-gradient(135deg, #2563eb 0%, #0891b2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

[data-theme="day"] .logo__tagline {
  color: #7c3aed;
}

[data-theme="day"] .logo__bar {
  background: linear-gradient(90deg, #2563eb 0%, #7c3aed 100%);
}

.nav-main {
  display: flex;
  align-items: center;
  gap: clamp(1.25rem, 2.5vw, 2.75rem);
  list-style: none;
}

.nav-main a {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-secondary);
  padding: 0.5rem 0;
  border-bottom: 2px solid transparent;
  transition: color var(--transition-fast), border-color var(--transition-fast);
  letter-spacing: 0.04em;
}

.nav-main a:hover,
.nav-main a.active {
  color: var(--text-primary);
  border-bottom-color: var(--accent-blue);
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Lang toggle: pill with ES / AR */
#lang-toggle,
.header-lang-toggle {
  min-width: 4.5rem;
  height: 2rem;
  padding: 0 0.6rem;
  border: 1px solid var(--border-subtle);
  border-radius: 999px;
  background: var(--bg-card);
  color: var(--text-secondary);
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.08em;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: color var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast);
}

#lang-toggle:hover,
.header-lang-toggle:hover {
  color: var(--text-primary);
  background: var(--accent-blue-dim);
  border-color: var(--border-accent);
}

#lang-toggle:focus-visible,
.header-lang-toggle:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

/* Theme toggle: icon button */
#theme-toggle,
.header-theme-toggle {
  width: 2.5rem;
  height: 2.5rem;
  border: 1px solid var(--border-subtle);
  border-radius: 50%;
  background: var(--bg-card);
  color: var(--text-secondary);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: color var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast);
}

#theme-toggle .theme-toggle-icon,
.header-theme-toggle .theme-toggle-icon {
  font-size: 1.15rem;
  line-height: 1;
}

#theme-toggle:hover,
.header-theme-toggle:hover {
  color: var(--accent-blue);
  background: var(--accent-blue-dim);
  border-color: var(--border-accent);
  transform: scale(1.05);
}

#theme-toggle:focus-visible,
.header-theme-toggle:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

.btn-icon {
  width: 2.25rem;
  height: 2.25rem;
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  background: transparent;
  color: var(--text-secondary);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  transition: color var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast);
}

.btn-icon:hover {
  color: var(--text-primary);
  background: var(--bg-card);
  border-color: var(--border-accent);
}

/* Mobile menu */
.nav-toggle {
  display: none;
  flex-direction: column;
  gap: 5px;
  padding: 0.5rem;
  background: none;
  border: none;
  cursor: pointer;
  color: var(--text-primary);
}

.nav-toggle span {
  width: 22px;
  height: 2px;
  background: currentColor;
  border-radius: 1px;
}

@media (max-width: 900px) {
  .nav-toggle { display: flex; }
  .nav-main {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: min(320px, 85vw);
    background: var(--bg-secondary);
    flex-direction: column;
    align-items: flex-start;
    padding: 5rem 2rem 2rem;
    gap: 0.5rem;
    transform: translateX(100%);
    transition: transform 0.3s ease;
    box-shadow: -4px 0 24px rgba(0,0,0,0.3);
  }
  .nav-main.open { transform: translateX(0); }
  .nav-main a { font-size: 1.1rem; padding: 0.6rem 0; }
}

/* ---- Hero blocks ---- */
.hero {
  min-height: 100vh;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: clamp(2.5rem, 6vw, 4.5rem);
  align-items: center;
  padding: clamp(3rem, 8vh, 5rem) clamp(1rem, 4%, 5%);
  background: var(--hero-bg);
  position: relative;
  overflow: hidden;
}

.hero::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -20%;
  width: 70%;
  height: 140%;
  background: radial-gradient(ellipse, rgba(96, 165, 250, 0.06) 0%, transparent 60%);
  pointer-events: none;
}

.hero-content {
  position: relative;
  z-index: 1;
}

.hero-content h1 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.9rem, 4.2vw, 2.9rem);
  font-weight: 700;
  line-height: 1.22;
  color: var(--text-primary);
  margin-bottom: 1.5rem;
  letter-spacing: 0.01em;
}

.hero-content .hero-sub {
  font-size: clamp(1.05rem, 1.8vw, 1.2rem);
  color: var(--text-secondary);
  max-width: 520px;
  line-height: 1.75;
}

.hero.hero-center {
  grid-template-columns: 1fr;
  text-align: center;
}

.hero.hero-center .hero-content {
  max-width: 800px;
  margin: 0 auto;
}

.hero.hero-center .hero-sub {
  margin-left: auto;
  margin-right: auto;
}

.hero-headline-gradient {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.8rem, 3.6vw, 2.6rem);
  font-weight: 700;
  font-style: italic;
  background: linear-gradient(105deg, var(--accent-gradient-start) 0%, var(--accent-gold-soft) 50%, var(--accent-gold) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1.28;
  margin-bottom: 0.6rem;
}

.hero-headline-gradient + .hero-underline {
  width: 100%;
  max-width: 380px;
  height: 4px;
  border-radius: 2px;
  background: linear-gradient(90deg, var(--accent-gradient-start), var(--accent-gold));
  margin-bottom: 1.75rem;
  opacity: 0.9;
}

.hero-center .hero-underline {
  margin-left: auto;
  margin-right: auto;
}

.hero-body {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.08rem, 1.5vw, 1.22rem);
  font-style: italic;
  color: var(--text-secondary);
  line-height: 1.8;
}

.hero-image-wrap {
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-card), var(--shadow-glow);
  border: 1px solid var(--border-subtle);
}

.hero-image-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  min-height: 340px;
  transition: transform var(--transition-smooth);
}

.hero-image-wrap:hover img {
  transform: scale(1.02);
}

@media (max-width: 900px) {
  .hero {
    grid-template-columns: 1fr;
    text-align: center;
    min-height: auto;
    padding-top: 6.5rem;
    padding-bottom: 4.5rem;
  }
  .hero-content .hero-sub,
  .hero-body { max-width: 100%; }
  .hero-image-wrap { order: -1; max-height: 300px; }
}

/* ---- HTML embed blocks (visible content) ---- */
.html-embed-wrap {
  padding: clamp(2rem, 5vw, 3.5rem) clamp(1rem, 4%, 5%);
  background: var(--bg-secondary);
}

.html-embed-wrap .embed-inner {
  max-width: 1200px;
  margin: 0 auto;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border-subtle);
  background: var(--bg-soft);
}

.html-embed-wrap iframe {
  width: 100%;
  height: 900px;
  border: none;
  display: block;
}

@media (max-width: 768px) {
  .html-embed-wrap iframe { height: 700px; }
}

/* ---- Inline analysis block (Breakout / Fake Out) - refined layout ---- */
.analysis-inline {
  padding: clamp(2rem, 5vw, 3.5rem) clamp(1rem, 4%, 5%);
  background: var(--bg-secondary);
  position: relative;
  overflow: hidden;
}

.analysis-inline::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 10%, var(--border-accent) 50%, transparent 90%);
  opacity: 0.6;
}

.analysis-inline .container {
  max-width: 1320px;
  margin: 0 auto;
  position: relative;
}

/* Section header */
.analysis-inline .analysis-hero {
  text-align: center;
  margin-bottom: clamp(1.5rem, 3vw, 2.25rem);
}

.analysis-inline .analysis-badge {
  display: inline-block;
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--accent-blue);
  margin-bottom: 0.75rem;
  opacity: 0.9;
}

.analysis-inline .analysis-hero h2 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.75rem, 3.5vw, 2.35rem);
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.2;
}

.analysis-inline .analysis-hero p {
  font-size: 1rem;
  color: var(--text-secondary);
  max-width: 520px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Main block + sequence steps */
.analysis-inline .analysis-main {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: clamp(1.5rem, 2.5vw, 2rem);
  margin-bottom: 1.5rem;
  box-shadow: var(--shadow-card);
  transition: box-shadow var(--transition-base), border-color var(--transition-base);
}

.analysis-inline .analysis-main:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card-hover);
}

.analysis-inline .analysis-section-title {
  font-size: clamp(1.15rem, 1.8vw, 1.35rem);
  font-weight: 600;
  color: var(--accent-blue);
  margin-bottom: 1.5rem;
}

/* Timeline-style numbered steps */
.analysis-inline .analysis-steps {
  position: relative;
  padding-left: 0.5rem;
}

.analysis-inline .analysis-numbered-item {
  display: flex;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
  padding: 1.5rem 1.35rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
  transition: background var(--transition-fast), border-color var(--transition-fast), transform var(--transition-base);
}

.analysis-inline .analysis-numbered-item:last-child {
  margin-bottom: 0;
}

.analysis-inline .analysis-numbered-item:hover {
  background: var(--accent-blue-dim);
  border-color: var(--border-accent);
  transform: translateX(6px);
}

.analysis-inline .analysis-number-wrap {
  position: relative;
  flex-shrink: 0;
}

.analysis-inline .analysis-number {
  width: 2.75rem;
  height: 2.75rem;
  border-radius: 50%;
  background: linear-gradient(145deg, var(--accent-blue), #3b82f6);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  box-shadow: 0 4px 16px rgba(96, 165, 250, 0.4);
}

.analysis-inline .analysis-item-title {
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.35;
}

.analysis-inline .analysis-desc {
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.65;
  margin-bottom: 0.65rem;
}

.analysis-inline .analysis-bullet {
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.55;
  margin-bottom: 0.4rem;
  padding-left: 0;
  position: relative;
}

.analysis-inline .analysis-bullet::before {
  content: none;
}

.analysis-inline .analysis-highlight {
  font-weight: 500;
  color: var(--text-primary);
  font-style: italic;
  padding: 0 0.2em;
}

/* Bento grid: Escenarios Posibles */
.analysis-inline .analysis-scenarios-box {
  margin-bottom: 1.5rem;
}

.analysis-inline .analysis-scenarios-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 1.25rem;
}

.analysis-inline .analysis-scenarios-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.analysis-inline .analysis-scenario-item {
  padding: 1.15rem 1.25rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.55;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
  border-left: 4px solid var(--accent-gold);
}

.analysis-inline .analysis-scenario-item:hover {
  border-color: var(--border-accent);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

/* Two-column scenario sections (Bajista / Calls+Puts) */
.analysis-inline .analysis-sections-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
  align-items: stretch;
}

.analysis-inline .analysis-section {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: clamp(1.5rem, 2.5vw, 2rem);
  box-shadow: var(--shadow-card);
  transition: box-shadow var(--transition-base), border-color var(--transition-base);
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 0;
}

.analysis-inline .analysis-section:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card-hover);
}

.analysis-inline .analysis-section .analysis-section-title {
  margin-bottom: 1rem;
}

.analysis-inline .analysis-scenario {
  margin-bottom: 1rem;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 10px;
  border-left: 3px solid rgba(255, 107, 107, 0.5);
}

.analysis-inline .analysis-scenario:last-of-type {
  margin-bottom: 0;
}

.analysis-inline .analysis-scenario-title {
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  line-height: 1.35;
}

.analysis-inline .analysis-signs {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 10px;
  padding: 1rem;
  margin-top: 1rem;
}

.analysis-inline .analysis-signs-title {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Summary table - elegant card */
.analysis-inline .analysis-summary-wrap {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: clamp(1.75rem, 2.5vw, 2.25rem);
  box-shadow: var(--shadow-card);
  overflow: hidden;
}

.analysis-inline .analysis-summary-wrap .analysis-section-title {
  margin-bottom: 1.25rem;
}

.analysis-inline .analysis-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 0.9rem;
}

.analysis-inline .analysis-table th {
  background: transparent;
  color: var(--text-secondary);
  padding: 0.75rem 1.25rem;
  text-align: left;
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border-bottom: 1px solid var(--border-subtle);
}

.analysis-inline .analysis-table td {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
  color: var(--text-secondary);
  transition: background 0.2s ease;
}

.analysis-inline .analysis-table tbody tr:last-child td {
  border-bottom: none;
}

.analysis-inline .analysis-table tbody tr:hover td {
  background: rgba(255, 255, 255, 0.02);
}

.analysis-inline .analysis-table td:first-child {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.95rem;
}

.analysis-inline .analysis-table .row-alcista td:first-child { color: rgba(74, 222, 128, 0.9); }
.analysis-inline .analysis-table .row-bajista td:first-child { color: rgba(248, 113, 113, 0.9); }
.analysis-inline .analysis-table .row-ambos td:first-child { color: var(--accent-gold); }

@media (max-width: 800px) {
  .analysis-inline .analysis-sections-grid {
    grid-template-columns: 1fr;
  }
  .analysis-inline .analysis-scenarios-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 640px) {
  .analysis-inline .analysis-numbered-item {
    flex-direction: column;
    gap: 1rem;
    padding: 1.15rem;
  }
  .analysis-inline .analysis-number {
    width: 2.5rem;
    height: 2.5rem;
    font-size: 0.95rem;
  }
}

/* ---- Inline guide: 0DTE (guia-0dte-gex) ---- */
.guide-0dte {
  padding: clamp(2rem, 5vw, 3.5rem) clamp(1rem, 4%, 5%);
  background: var(--bg-primary);
  position: relative;
  overflow: hidden;
}

.guide-0dte::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border-accent), transparent);
  opacity: 0.5;
}

.guide-0dte .container {
  max-width: 1200px;
  margin: 0 auto;
  position: relative;
}

.guide-0dte .guide-hero {
  text-align: center;
  margin-bottom: clamp(2.5rem, 5vw, 3.5rem);
}

.guide-0dte .guide-badge {
  display: inline-block;
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--accent-blue);
  margin-bottom: 0.75rem;
  opacity: 0.9;
}

.guide-0dte .guide-hero h2 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.75rem, 3.5vw, 2.35rem);
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.2;
}

.guide-0dte .guide-hero p {
  font-size: 1rem;
  color: var(--text-secondary);
  max-width: 560px;
  margin: 0 auto;
  line-height: 1.6;
}

.guide-0dte .guide-section {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: clamp(1.5rem, 2.5vw, 2rem);
  margin-bottom: 1.5rem;
  border-left: 4px solid var(--accent-blue);
  box-shadow: var(--shadow-card);
  transition: box-shadow var(--transition-base), border-color var(--transition-base);
}

.guide-0dte .guide-section:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card-hover);
}

.guide-0dte .guide-section-title {
  font-size: clamp(1.1rem, 1.7vw, 1.3rem);
  font-weight: 600;
  color: var(--accent-blue);
  margin-bottom: 1rem;
}

.guide-0dte .guide-section p {
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.65;
  margin-bottom: 0.75rem;
}

.guide-0dte .guide-section p:last-child {
  margin-bottom: 0;
}

.guide-0dte .guide-highlight-box {
  background: var(--accent-blue-dim);
  border: 1px solid var(--border-accent);
  border-radius: var(--radius-md);
  padding: 1.25rem 1.35rem;
  margin: 1.25rem 0;
}

.guide-0dte .guide-highlight-box p {
  margin-bottom: 0;
  color: var(--text-primary);
}

.guide-0dte .guide-key-point {
  font-weight: 500;
  color: var(--text-primary);
  font-style: italic;
  padding: 0 0.2em;
}

.guide-0dte .guide-warning-box {
  background: rgba(255, 107, 107, 0.08);
  border: 1px solid rgba(255, 107, 107, 0.35);
  border-radius: 12px;
  padding: 1.15rem 1.25rem;
  margin: 1rem 0;
  font-size: 0.95rem;
  color: var(--text-secondary);
}

.guide-0dte .guide-warning-box strong {
  color: rgba(255, 140, 120, 0.95);
}

.guide-0dte .guide-success-box {
  background: rgba(72, 187, 120, 0.08);
  border: 1px solid rgba(72, 187, 120, 0.3);
  border-radius: 12px;
  padding: 1.15rem 1.25rem;
  margin: 0.75rem 0;
  font-size: 0.95rem;
}

.guide-0dte .guide-success-box strong {
  color: rgba(72, 187, 120, 0.95);
  display: block;
  margin-bottom: 0.35rem;
}

.guide-0dte .guide-success-box p {
  margin-bottom: 0;
  color: var(--text-secondary);
}

.guide-0dte .guide-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1rem;
  margin: 1.25rem 0;
}

.guide-0dte .guide-grid-item {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.35rem;
  transition: border-color var(--transition-fast), transform var(--transition-base), box-shadow var(--transition-base);
}

.guide-0dte .guide-grid-item:hover {
  border-color: var(--border-accent);
  transform: translateY(-3px);
  box-shadow: var(--shadow-card-hover);
}

.guide-0dte .guide-grid-item h4 {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.3;
}

.guide-0dte .guide-grid-item p {
  font-size: 0.9rem;
  margin-bottom: 0;
  color: var(--text-secondary);
  line-height: 1.55;
}

.guide-0dte .guide-list {
  list-style: none;
  padding: 0;
  margin: 1rem 0;
}

.guide-0dte .guide-list li {
  position: relative;
  padding-left: 0;
  margin-bottom: 0.65rem;
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.55;
}

.guide-0dte .guide-list li::before {
  content: none;
}

.guide-0dte .guide-pulse {
  animation: guide-pulse 2s ease-in-out infinite;
}

@keyframes guide-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.85; }
}

.guide-0dte .guide-cta-card {
  background: rgba(139, 92, 246, 0.08);
  border: 1px solid rgba(139, 92, 246, 0.35);
  border-left: 4px solid rgba(139, 92, 246, 0.9);
  border-radius: 16px;
  padding: clamp(1.25rem, 2vw, 1.75rem);
  margin-bottom: 0;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.guide-0dte .guide-cta-card .guide-section-title {
  color: rgba(180, 150, 255, 0.95);
}

.guide-0dte .guide-warnings-card {
  background: rgba(255, 107, 107, 0.06);
  border: 1px solid rgba(255, 107, 107, 0.25);
  border-radius: 16px;
  padding: clamp(1.25rem, 2vw, 1.75rem);
  margin-bottom: 1.5rem;
  border-left: 4px solid rgba(255, 107, 107, 0.6);
}

.guide-0dte .guide-warnings-card .guide-section-title {
  color: rgba(255, 140, 120, 0.95);
}

.guide-0dte .guide-warnings-card .guide-list {
  margin-top: 0.75rem;
}

/* ---- Video section ---- */
.video-section {
  position: relative;
  height: 75vh;
  min-height: 420px;
  overflow: hidden;
}

.video-section video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.video-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(7,10,15,0.2) 0%, rgba(7,10,15,0.75) 50%, rgba(7,10,15,0.92) 100%);
  pointer-events: none;
}

/* ---- Testimonials ---- */
.testimonials-section {
  padding: clamp(2.5rem, 5vw, 4rem) clamp(1rem, 4%, 5%);
  background: var(--bg-secondary);
}

.testimonials-section h2 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.85rem, 3.2vw, 2.4rem);
  text-align: center;
  margin-bottom: 3rem;
  color: var(--text-primary);
  font-weight: 700;
}

.testimonials-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  max-width: 1120px;
  margin: 0 auto;
}

.testimonial-card {
  background: var(--bg-card);
  padding: 2.25rem;
  border-radius: var(--radius-lg);
  text-align: center;
  border: 1px solid var(--border-subtle);
  transition: border-color var(--transition-base), box-shadow var(--transition-base), transform var(--transition-base);
}

.testimonial-card:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-4px);
}

.testimonial-card .avatar {
  width: 88px;
  height: 88px;
  border-radius: 50%;
  object-fit: cover;
  margin: 0 auto 1.5rem;
  border: 3px solid var(--border-accent);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.testimonial-card .quote {
  font-size: 1rem;
  color: var(--text-secondary);
  font-style: italic;
  line-height: 1.65;
}

.testimonial-card .name {
  font-size: 0.875rem;
  color: var(--text-muted);
  margin-top: 1rem;
  letter-spacing: 0.02em;
}

/* ---- Buttons / CTAs ---- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.95rem 1.85rem;
  font-size: 0.9375rem;
  font-weight: 600;
  border-radius: var(--radius-md);
  border: none;
  cursor: pointer;
  letter-spacing: 0.03em;
  transition: transform var(--transition-fast), box-shadow var(--transition-base), opacity var(--transition-fast);
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(96, 165, 250, 0.35);
}

.btn:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

.btn-primary {
  background: var(--btn-primary-bg);
  color: #fff;
}

.btn-primary:hover {
  background: var(--btn-primary-hover);
}

.btn-outline {
  background: transparent;
  color: var(--accent-blue);
  border: 2px solid var(--accent-blue);
}

.btn-outline:hover {
  background: var(--accent-blue-dim);
}

/* ---- Program cards (Formación) ---- */
.program-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  padding: 2rem;
  margin-bottom: 2rem;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.program-card:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card);
}

.program-card h3 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.35rem, 2.2vw, 1.65rem);
  margin-bottom: 0.75rem;
  color: var(--text-primary);
}

.program-card .subtitle {
  font-size: 0.95rem;
  color: var(--text-secondary);
  margin-bottom: 1.25rem;
}

.two-col-list {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem 2rem;
  list-style: none;
}

.two-col-list li {
  position: relative;
  padding-left: 1.25rem;
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.55;
}

.two-col-list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0.5rem;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent-blue);
}

.program-card .cta-wrap {
  margin-top: 1.5rem;
}

@media (max-width: 700px) {
  .two-col-list { grid-template-columns: 1fr; }
}

/* ---- Convocatorias timeline ---- */
.convocatorias-section h3 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.5rem, 2.5vw, 1.85rem);
  margin-bottom: 0.5rem;
}

.convocatorias-section .intro {
  color: var(--text-secondary);
  margin-bottom: 2rem;
  max-width: 560px;
}

.timeline-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 900px;
  margin: 0 auto 1rem;
  position: relative;
}

.timeline-bar::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 4px;
  background: linear-gradient(90deg, var(--accent-blue), rgba(139, 92, 246, 0.8));
  border-radius: 2px;
  transform: translateY(-50%);
  z-index: 0;
}

.timeline-dot {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--accent-blue);
  border: 3px solid var(--bg-primary);
  position: relative;
  z-index: 1;
  flex-shrink: 0;
}

.timeline-labels {
  display: flex;
  justify-content: space-between;
  max-width: 900px;
  margin: 0 auto;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--text-secondary);
}

.timeline-labels span {
  width: 16.66%;
  text-align: center;
}

/* ---- Trading Room ---- */
.trading-room-section .feature-list {
  list-style: none;
  max-width: 680px;
}

.trading-room-section .feature-list li {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 1rem;
  color: var(--text-secondary);
}

.trading-room-section .feature-list li::before {
  content: '✓';
  color: var(--accent-blue);
  font-weight: 700;
  flex-shrink: 0;
}

.access-info {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--border-subtle);
  font-size: 0.95rem;
  color: var(--text-secondary);
}

.access-info span + span::before {
  content: '|';
  margin-right: 1rem;
  color: var(--text-muted);
}

/* ---- Recursos ---- */
.recursos-intro {
  max-width: 800px;
  margin-bottom: 2.5rem;
}

.recursos-intro h2 {
  font-family: 'Cormorant Garamond', serif;
  margin-bottom: 1rem;
}

.recursos-intro p {
  color: var(--text-secondary);
  line-height: 1.75;
}

.recursos-placeholder {
  background: var(--bg-card);
  border: 1px dashed var(--border-accent);
  border-radius: 12px;
  padding: 2rem;
  text-align: center;
  color: var(--text-muted);
  font-size: 0.95rem;
}

/* Recursos: alto rendimiento hero + resource grid */
.recursos-hero {
  text-align: center;
  margin-bottom: clamp(2.5rem, 5vw, 3.5rem);
}

.recursos-hero .recursos-badge {
  display: inline-block;
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--accent-blue);
  margin-bottom: 0.75rem;
  opacity: 0.9;
}

.recursos-hero h1 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.75rem, 3.5vw, 2.35rem);
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 0.75rem;
  line-height: 1.2;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.recursos-hero .recursos-tagline {
  font-size: 1.05rem;
  color: var(--accent-blue);
  margin-bottom: 1rem;
  font-family: 'DM Sans', system-ui, sans-serif;
}

.recursos-hero .recursos-intro-p {
  font-size: 0.98rem;
  color: var(--text-secondary);
  max-width: 680px;
  margin: 0 auto;
  line-height: 1.7;
}

.recursos-category-title {
  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--accent-blue);
  margin: 2.5rem 0 1.25rem 0;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.recursos-category-title:first-of-type {
  margin-top: 0;
}

.recursos-category-title::after {
  content: "";
  flex: 1;
  height: 1px;
  background: var(--border-subtle);
}

.recursos-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.25rem;
  margin-bottom: 0.5rem;
}

.recursos-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  padding: 1.5rem;
  transition: border-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 160px;
}

.recursos-card:hover {
  border-color: var(--accent-blue);
  transform: translateY(-4px);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.2);
}

.recursos-card h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 0.5rem 0;
  line-height: 1.3;
}

.recursos-card p {
  font-size: 0.9rem;
  color: var(--text-secondary);
  margin: 0 0 1rem 0;
  flex-grow: 1;
  line-height: 1.55;
}

.recursos-card .recursos-link-text {
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--accent-blue);
}

/* ---- Simulador Delta Hedging integrado ---- */
.recursos-simulator-wrap {
  margin-top: 2.5rem;
  margin-bottom: 2rem;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border-subtle);
  background: var(--bg-soft);
}

/* Estética cyberpunk (fiel al simulador original) */
.recursos-simulator-wrap.sim-cyberpunk {
  font-family: 'Courier New', Consolas, monospace;
  background: #0a0b14;
  border: 1px solid #1f2937;
  border-radius: 12px;
  box-shadow: 0 0 40px rgba(91, 162, 244, 0.08);
}
.recursos-simulator-wrap.sim-cyberpunk .recursos-simulator-header {
  padding: 1.5rem 1.75rem;
  background: linear-gradient(135deg, #121625 0%, #1a1f3a 100%);
  border-bottom: 1px solid #1f2937;
  position: relative;
}
.recursos-simulator-wrap.sim-cyberpunk .recursos-simulator-header::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, #3a7bd5, #8c52ff, #3a7bd5);
  opacity: 0.8;
}
.recursos-simulator-wrap.sim-cyberpunk .recursos-simulator-title {
  font-family: inherit;
  font-size: 1.5rem;
  font-weight: 700;
  background: linear-gradient(135deg, #5ba2f4, #8c52ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 0.15em;
}
.recursos-simulator-wrap.sim-cyberpunk .recursos-simulator-desc {
  color: #9ca3af;
  font-size: 0.9rem;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-inline {
  padding: 1.5rem;
  background: #0a0b14;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-card {
  background: #121625;
  border: 1px solid #1f2937;
  border-radius: 12px;
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-card:hover {
  border-color: #5ba2f4;
  box-shadow: 0 0 20px rgba(91, 162, 244, 0.2);
}
.recursos-simulator-wrap.sim-cyberpunk .sim-card-title {
  color: #5ba2f4;
  border-bottom-color: #1f2937;
  font-family: inherit;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-control-label {
  color: #8c52ff;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-control-value {
  color: #00ff41;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-btn {
  background: #1f2937;
  border: 1px solid #3a7bd5;
  color: #e0e6ed;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-btn:hover {
  background: #2a3548;
  border-color: #5ba2f4;
  box-shadow: 0 0 15px rgba(0, 255, 65, 0.2);
}
.recursos-simulator-wrap.sim-cyberpunk .sim-btn.active {
  background: linear-gradient(135deg, #3a7bd5, #5ba2f4);
  border-color: #5ba2f4;
  color: #fff;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-btn-scenario {
  border-color: #8c52ff;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-btn-scenario:hover {
  background: linear-gradient(135deg, #8c52ff, #a855f7);
  box-shadow: 0 0 25px rgba(140, 82, 255, 0.5);
}
.recursos-simulator-wrap.sim-cyberpunk .sim-slider {
  background: #1f2937;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-slider::-webkit-slider-thumb {
  background: linear-gradient(135deg, #5ba2f4, #8c52ff);
  box-shadow: 0 0 12px rgba(91, 162, 244, 0.8);
}
.recursos-simulator-wrap.sim-cyberpunk .sim-stat-value {
  color: #00ff41;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-balance-container {
  background: rgba(31, 41, 55, 0.5);
  border: 1px solid #1f2937;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-balance-title {
  color: #5ba2f4;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual {
  background: #121625;
  border: 1px solid #1f2937;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual-header {
  background: linear-gradient(135deg, #1f2937, #2a3548);
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual-header:hover {
  background: linear-gradient(135deg, #2a3548, #3a4a5e);
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual-title {
  color: #5ba2f4;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual-icon {
  color: #8c52ff;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual-section-title {
  color: #00ff41;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-manual-text {
  color: #e0e6ed;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-stat-label {
  color: #8c52ff;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-balance-bar {
  border-color: #3a7bd5;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-shares-display.positive {
  color: #00ff41;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-shares-display.negative {
  color: #ff6b6b;
}
.recursos-simulator-wrap.sim-cyberpunk .sim-direction-hint {
  color: #9ca3af;
}

.recursos-simulator-wrap .recursos-simulator-header {
  padding: 1.25rem 1.5rem;
  background: var(--bg-card);
  border-bottom: 1px solid var(--border-subtle);
}

.recursos-simulator-wrap .recursos-simulator-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.2rem, 2vw, 1.45rem);
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 0.5rem 0;
}

.recursos-simulator-wrap .recursos-simulator-desc {
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.6;
  margin: 0;
  max-width: 720px;
}

/* Simulador inline: layout y cards */
.sim-inline {
  padding: 1.5rem;
}

.sim-inline .sim-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.25rem;
  margin-bottom: 1.25rem;
}

@media (max-width: 968px) {
  .sim-inline .sim-grid {
    grid-template-columns: 1fr;
  }
}

.sim-inline .sim-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  padding: 1.35rem;
  transition: border-color 0.25s ease, box-shadow 0.25s ease;
}

.sim-inline .sim-card:hover {
  border-color: var(--border-accent);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.sim-inline .sim-card-title {
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--accent-blue);
  margin-bottom: 1.25rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  border-bottom: 1px solid var(--border-subtle);
  padding-bottom: 0.75rem;
}

.sim-inline .sim-control-group {
  margin-bottom: 1.5rem;
}

.sim-inline .sim-control-group:last-child {
  margin-bottom: 0;
}

.sim-inline .sim-control-label {
  display: block;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.sim-inline .sim-control-value {
  float: right;
  font-weight: 700;
  color: var(--accent-blue);
  font-size: 0.85rem;
}

.sim-inline .sim-btn-group {
  display: flex;
  gap: 0.6rem;
  flex-wrap: wrap;
}

.sim-inline .sim-btn {
  flex: 1;
  min-width: 70px;
  padding: 0.6rem 1rem;
  background: var(--bg-soft);
  border: 1px solid var(--border-subtle);
  color: var(--text-primary);
  border-radius: 8px;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.8rem;
  font-weight: 600;
  transition: all 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.sim-inline .sim-btn:hover {
  border-color: var(--accent-blue);
  background: rgba(74, 158, 255, 0.08);
}

.sim-inline .sim-btn.active {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.4), rgba(29, 78, 216, 0.35));
  border-color: var(--accent-blue);
  color: #fff;
}

.sim-inline .sim-btn-scenario {
  padding: 0.75rem 1.25rem;
  font-size: 0.85rem;
  border-color: rgba(139, 92, 246, 0.5);
}

.sim-inline .sim-btn-scenario:hover {
  border-color: rgba(139, 92, 246, 0.8);
  background: rgba(139, 92, 246, 0.12);
}

.sim-inline .sim-slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: var(--bg-soft);
  outline: none;
  -webkit-appearance: none;
  margin: 0.5rem 0;
}

.sim-inline .sim-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--accent-blue);
  cursor: pointer;
  box-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
}

.sim-inline .sim-slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: var(--accent-blue);
  cursor: pointer;
  border: none;
  box-shadow: 0 0 10px rgba(74, 158, 255, 0.5);
}

.sim-inline .sim-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-top: 1.5rem;
}

.sim-inline .sim-stat {
  background: rgba(255, 255, 255, 0.03);
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid var(--border-subtle);
  text-align: center;
}

.sim-inline .sim-stat-label {
  font-size: 0.7rem;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.35rem;
}

.sim-inline .sim-stat-value {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--accent-blue);
}

.sim-inline .sim-balance-container {
  margin-top: 1.25rem;
  padding: 1.25rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 8px;
  border: 1px solid var(--border-subtle);
}

.sim-inline .sim-balance-title {
  text-align: center;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.sim-inline .sim-balance-bar {
  display: flex;
  height: 44px;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid var(--border-accent);
}

.sim-inline .sim-balance-client {
  background: linear-gradient(90deg, rgba(139, 92, 246, 0.6), rgba(139, 92, 246, 0.4));
  transition: width 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
}

.sim-inline .sim-balance-mm {
  background: linear-gradient(90deg, rgba(34, 197, 94, 0.5), rgba(22, 163, 74, 0.4));
  transition: width 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--text-primary);
}

.sim-inline .sim-balance-labels {
  display: flex;
  justify-content: space-between;
  margin-top: 0.6rem;
  font-size: 0.75rem;
  color: var(--text-muted);
}

.sim-inline .sim-chart-container {
  position: relative;
  height: 280px;
  margin-top: 0.75rem;
}

.sim-inline .sim-shares-display {
  text-align: center;
  font-size: 1.75rem;
  font-weight: 700;
  margin: 1rem 0;
}

.sim-inline .sim-shares-display.positive { color: rgba(34, 197, 94, 0.95); }
.sim-inline .sim-shares-display.negative { color: rgba(248, 113, 113, 0.95); }

.sim-inline .sim-direction-hint {
  text-align: center;
  font-size: 0.8rem;
  color: var(--text-secondary);
  margin-top: 0.25rem;
}

.sim-inline .sim-manual {
  margin-top: 1.5rem;
  background: var(--bg-card);
  border-radius: 12px;
  border: 1px solid var(--border-subtle);
  overflow: hidden;
}

.sim-inline .sim-manual-header {
  padding: 1rem 1.25rem;
  background: rgba(255, 255, 255, 0.03);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.2s ease;
}

.sim-inline .sim-manual-header:hover {
  background: rgba(255, 255, 255, 0.05);
}

.sim-inline .sim-manual-title {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--accent-blue);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.sim-inline .sim-manual-icon {
  font-size: 0.9rem;
  color: var(--text-secondary);
  transition: transform 0.25s ease;
}

.sim-inline .sim-manual-icon.open {
  transform: rotate(180deg);
}

.sim-inline .sim-manual-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.35s ease;
}

.sim-inline .sim-manual-content.open {
  max-height: 800px;
}

.sim-inline .sim-manual-body {
  padding: 1.25rem 1.5rem;
  line-height: 1.7;
}

.sim-inline .sim-manual-section {
  margin-bottom: 1.25rem;
}

.sim-inline .sim-manual-section:last-child {
  margin-bottom: 0;
}

.sim-inline .sim-manual-section-title {
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--accent-blue);
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.sim-inline .sim-manual-text {
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.65;
}

@media (max-width: 640px) {
  .recursos-grid {
    grid-template-columns: 1fr;
  }
  .sim-inline .sim-chart-container {
    height: 220px;
  }
}

/* ---- Software/Bots —— Próximamente ---- */
.coming-soon-section {
  text-align: center;
  padding: clamp(2.5rem, 6vw, 4rem) clamp(0.75rem, 3%, 4%);
}

.coming-soon-section .badge {
  display: inline-block;
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: 0.25em;
  color: var(--accent-gold);
  margin-bottom: 1rem;
}

.coming-soon-section h2 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.5rem, 3vw, 2rem);
  color: var(--text-primary);
  max-width: 520px;
  margin: 0 auto 1rem;
  line-height: 1.4;
}

.coming-soon-section p {
  color: var(--text-secondary);
  max-width: 440px;
  margin: 0 auto;
}

/* ---- Contact ---- */
.contact-section .container {
  max-width: 900px;
}

.contact-section h2 {
  font-family: 'Cormorant Garamond', serif;
  text-align: center;
  margin-bottom: 1rem;
}

.contact-section .intro {
  text-align: center;
  color: var(--text-secondary);
  margin-bottom: 2.5rem;
  line-height: 1.7;
}

/* Contact options: Agendar llamada + Evalúa perfil */
.contact-options {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 2rem;
  align-items: stretch;
}

.contact-option {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  padding: 1.75rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.contact-option:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card);
}

.contact-option-icon {
  font-size: 1.75rem;
  margin-bottom: 1rem;
  opacity: 0.85;
  flex-shrink: 0;
}

.contact-option-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.3;
  flex-shrink: 0;
}

.contact-option-desc {
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.55;
  margin-bottom: 1.25rem;
  flex: 1;
}

.contact-option-btn {
  width: 100%;
  max-width: 260px;
  flex-shrink: 0;
}

.contact-option-hint {
  font-size: 0.8rem;
  color: var(--text-muted);
  margin-top: 0.75rem;
  margin-bottom: 0;
  flex-shrink: 0;
}

.contact-divider {
  text-align: center;
  margin: 2rem 0 1.5rem;
  color: var(--text-muted);
  font-size: 0.9rem;
}

.contact-divider::before,
.contact-divider::after {
  content: '';
  display: inline-block;
  width: 60px;
  height: 1px;
  background: var(--border-subtle);
  vertical-align: middle;
  margin: 0 0.75rem;
}

.contact-footer-hint {
  font-size: 0.9rem;
  color: var(--text-muted);
  margin-top: 1.5rem;
  text-align: center;
}

@media (max-width: 640px) {
  .contact-options {
    grid-template-columns: 1fr;
  }
}

.contact-cta-wrap {
  text-align: center;
  margin-bottom: 2rem;
}

.contact-form {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.contact-form label {
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--text-secondary);
  display: block;
  margin-bottom: 0.35rem;
}

.contact-form input,
.contact-form textarea {
  width: 100%;
  padding: 0.9rem 1rem;
  font-size: 1rem;
  font-family: inherit;
  color: var(--text-primary);
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 10px;
  transition: border-color 0.2s;
}

.contact-form input:focus,
.contact-form textarea:focus {
  outline: none;
  border-color: var(--accent-blue);
}

.contact-form textarea {
  min-height: 140px;
  resize: vertical;
}

.contact-form .btn {
  align-self: flex-start;
}

/* ---- Chatbot (floating) ---- */
.chatbot-toggle {
  position: fixed;
  bottom: 1.75rem;
  right: 1.75rem;
  width: 58px;
  height: 58px;
  border-radius: 50%;
  background: var(--btn-primary-bg);
  color: #fff;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  box-shadow: 0 6px 24px rgba(96, 165, 250, 0.45);
  z-index: 999;
  transition: transform var(--transition-fast), box-shadow var(--transition-base);
}

.chatbot-toggle:hover {
  transform: scale(1.08);
  box-shadow: 0 8px 28px rgba(96, 165, 250, 0.5);
}

.chatbot-toggle:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

.chatbot-panel {
  position: fixed;
  bottom: 5.5rem;
  right: 1.75rem;
  width: min(400px, calc(100vw - 2rem));
  max-height: 520px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-card-hover), 0 0 0 1px rgba(255,255,255,0.03);
  z-index: 998;
  display: none;
  flex-direction: column;
  overflow: hidden;
}

.chatbot-panel.open {
  display: flex;
}

.chatbot-header {
  padding: 1.15rem 1.35rem;
  background: var(--bg-soft);
  border-bottom: 1px solid var(--border-subtle);
  font-weight: 600;
  font-size: 0.95rem;
}

.chatbot-messages {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.chatbot-msg {
  padding: 0.85rem 1.1rem;
  border-radius: var(--radius-md);
  font-size: 0.9rem;
  line-height: 1.55;
  max-width: 85%;
}

.chatbot-msg.bot {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  align-self: flex-start;
}

.chatbot-msg.user {
  background: var(--accent-blue);
  color: #fff;
  align-self: flex-end;
}

.chatbot-input-wrap {
  padding: 0.75rem;
  border-top: 1px solid var(--border-subtle);
  display: flex;
  gap: 0.5rem;
}

.chatbot-input-wrap input {
  flex: 1;
  padding: 0.75rem 1rem;
  font-size: 0.9rem;
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  background: var(--bg-card);
  color: var(--text-primary);
  transition: border-color var(--transition-fast);
}

.chatbot-input-wrap input:focus {
  outline: none;
  border-color: var(--accent-blue);
}

.chatbot-input-wrap .btn {
  padding: 0.65rem 1rem;
  font-size: 0.9rem;
}

/* ---- Footer (elegant, narrow) ---- */
.site-footer {
  flex-shrink: 0;
  margin-top: auto;
  padding: 1rem clamp(1rem, 4%, 2rem);
  background: var(--bg-soft);
  border-top: 1px solid var(--border-subtle);
}

.site-footer:has(.footer-grid)::before {
  content: "";
  display: block;
  height: 1px;
  max-width: 5rem;
  margin: 0 auto 0.75rem;
  background: linear-gradient(90deg, transparent, var(--border-accent), transparent);
  opacity: 0.6;
}

.footer-grid {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 0.5rem 1.25rem;
  max-width: 720px;
  margin: 0 auto 0.75rem;
}

.footer-grid > div {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5rem 1rem;
}

.footer-grid a,
.footer-grid span {
  font-size: 0.75rem;
  font-weight: 500;
  letter-spacing: 0.04em;
  color: var(--text-muted);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.footer-grid a:hover {
  color: var(--accent-blue);
}

.footer-bottom {
  max-width: 720px;
  margin: 0 auto;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border-subtle);
  font-size: 0.7rem;
  letter-spacing: 0.05em;
  color: var(--text-muted);
  text-align: center;
}

.footer-bottom a {
  color: var(--text-secondary);
  text-decoration: underline;
  text-underline-offset: 2px;
}

.footer-bottom a:hover {
  color: var(--accent-blue);
}

/* ---- Volatilidad: integrated content ---- */
.volatilidad-intro {
  margin-bottom: clamp(2.5rem, 5vw, 3.5rem);
}

.volatilidad-intro .hero-sub {
  font-size: 1rem;
  color: var(--text-secondary);
  max-width: 640px;
  line-height: 1.7;
}

/* Section hero (cycle & spreads) */
.volatilidad-section {
  padding: clamp(1.5rem, 4vw, 2.5rem) clamp(0.75rem, 3%, 4%);
  position: relative;
}

.volatilidad-section:nth-child(odd) {
  background: var(--bg-primary);
}

.volatilidad-section:nth-child(even) {
  background: var(--bg-secondary);
}

.volatilidad-section .volatilidad-hero {
  text-align: center;
  margin-bottom: clamp(2rem, 4vw, 2.75rem);
}

.volatilidad-section .volatilidad-badge {
  display: inline-block;
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--accent-blue);
  margin-bottom: 0.6rem;
  opacity: 0.9;
}

.volatilidad-section .volatilidad-hero h2 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.5rem, 2.8vw, 2rem);
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.25;
}

.volatilidad-section .volatilidad-hero p {
  font-size: 0.98rem;
  color: var(--text-secondary);
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

/* Cycle grid: 2x2 with center circle overlay and arrows (like gex_volatility_cycle.html) */
.volatilidad-cycle {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 1.5rem;
  max-width: 1000px;
  min-height: 420px;
  margin: 0 auto 2rem;
  position: relative;
}

.volatilidad-phase {
  background: var(--bg-card);
  border: 2px solid transparent;
  border-radius: var(--radius-lg);
  padding: 1.5rem 1.35rem;
  transition: border-color 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
}

.volatilidad-phase:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
}

.volatilidad-phase.phase-bear {
  border-color: rgba(248, 113, 113, 0.6);
  background: linear-gradient(135deg, rgba(255, 107, 107, 0.1) 0%, rgba(238, 82, 83, 0.06) 100%);
}

.volatilidad-phase.phase-early {
  border-color: rgba(52, 211, 153, 0.6);
  background: linear-gradient(135deg, rgba(78, 205, 196, 0.1) 0%, rgba(85, 239, 196, 0.06) 100%);
}

.volatilidad-phase.phase-late {
  border-color: rgba(251, 191, 36, 0.7);
  background: linear-gradient(135deg, rgba(255, 167, 38, 0.1) 0%, rgba(255, 183, 77, 0.06) 100%);
}

.volatilidad-phase.phase-mid {
  border-color: rgba(167, 139, 250, 0.6);
  background: linear-gradient(135deg, rgba(162, 155, 254, 0.1) 0%, rgba(116, 185, 255, 0.06) 100%);
}

.volatilidad-phase-title {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 1rem;
  line-height: 1.3;
  text-align: center;
  padding: 0.6rem 0.75rem;
  border-radius: var(--radius-sm);
  background: rgba(255, 255, 255, 0.08);
}

.volatilidad-phase.phase-bear .volatilidad-phase-title { color: rgba(255, 107, 107, 0.95); }
.volatilidad-phase.phase-early .volatilidad-phase-title { color: rgba(78, 205, 196, 0.95); }
.volatilidad-phase.phase-late .volatilidad-phase-title { color: rgba(255, 167, 38, 0.95); }
.volatilidad-phase.phase-mid .volatilidad-phase-title { color: rgba(167, 139, 250, 0.95); }

.volatilidad-phase-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.volatilidad-phase-list li {
  position: relative;
  padding-left: 1.35rem;
  margin-bottom: 0.65rem;
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.55;
}

.volatilidad-phase-list li:last-child {
  margin-bottom: 0;
}

.volatilidad-phase-list li::before {
  content: "▶";
  position: absolute;
  left: 0;
  top: 0.05em;
  color: var(--accent-blue);
  font-size: 0.65rem;
}

/* Center circle overlay (like reference) */
.volatilidad-cycle-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: linear-gradient(135deg, #4f7cf8 0%, #7c3aed 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 10px 32px rgba(102, 126, 234, 0.4);
  z-index: 10;
}

.volatilidad-cycle-badge {
  display: block;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.12em;
  color: #fff;
  text-align: center;
  line-height: 1.35;
}

/* Arrows from center to phases */
.volatilidad-cycle-arrows {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 180px;
  height: 180px;
  pointer-events: none;
  z-index: 5;
}

.volatilidad-arrow {
  position: absolute;
  width: 28px;
  height: 3px;
  background: var(--accent-blue);
  border-radius: 2px;
}

.volatilidad-arrow::after {
  content: "";
  position: absolute;
  right: -6px;
  top: -4px;
  width: 0;
  height: 0;
  border-left: 10px solid var(--accent-blue);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
}

.volatilidad-arrow-right {
  top: 50%;
  right: 10px;
  transform: translateY(-50%);
}

.volatilidad-arrow-down {
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%) rotate(90deg);
}

.volatilidad-arrow-left {
  top: 50%;
  left: 10px;
  transform: translateY(-50%) rotate(180deg);
}

.volatilidad-arrow-up {
  top: 10px;
  left: 50%;
  transform: translateX(-50%) rotate(270deg);
}

/* Key note callout */
.volatilidad-key-note {
  max-width: 900px;
  margin: 0 auto 1.5rem;
  padding: 1.25rem 1.5rem;
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.08), rgba(255, 167, 38, 0.06));
  border: 1px solid rgba(251, 191, 36, 0.35);
  border-left: 4px solid rgba(251, 191, 36, 0.9);
  border-radius: 12px;
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.65;
}

.volatilidad-key-note strong {
  color: rgba(251, 191, 36, 0.95);
}

.volatilidad-source {
  text-align: center;
  font-size: 0.8rem;
  color: var(--text-muted);
  font-style: italic;
}

/* VIX spreads: numbered strategies */
.volatilidad-strategies {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  max-width: 900px;
  margin: 0 auto;
}

.volatilidad-strategy {
  display: flex;
  gap: 1.25rem;
  padding: 1.35rem 1.5rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 14px;
  border-left: 4px solid var(--accent-blue);
  transition: border-color 0.25s ease, transform 0.2s ease, box-shadow 0.25s ease;
}

.volatilidad-strategy:hover {
  border-color: var(--border-accent);
  transform: translateX(4px);
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
}

.volatilidad-strategy-num {
  width: 2.5rem;
  height: 2.5rem;
  flex-shrink: 0;
  border-radius: 50%;
  background: linear-gradient(145deg, var(--accent-blue), #3b82f6);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
  box-shadow: 0 3px 12px rgba(74, 158, 255, 0.35);
}

.volatilidad-strategy-body {
  flex: 1;
}

.volatilidad-strategy-title {
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.volatilidad-strategy-type {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 3px 10px;
  border-radius: 6px;
  margin-left: 0.5rem;
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.25), rgba(251, 146, 60, 0.2));
  color: var(--accent-gold);
}

.volatilidad-strategy-desc {
  font-size: 0.92rem;
  color: var(--text-secondary);
  line-height: 1.6;
}

.volatilidad-strategy-desc .bullet-point {
  color: var(--accent-blue);
  font-weight: 600;
  margin-right: 0.35rem;
}

.volatilidad-highlight-short,
.volatilidad-highlight-long,
.volatilidad-highlight-ratio {
  font-weight: 500;
  color: var(--text-primary);
  font-style: italic;
  padding: 0 0.2em;
}

/* Volatilidad article content (Espejismo VIX, Mano Invisible, IVR vs IVP) */
.volatilidad-article .vol-article-lead {
  font-size: 1rem;
  color: var(--text-secondary);
  max-width: 720px;
  margin: 0 auto;
  line-height: 1.75;
}

.volatilidad-article .vol-article-content {
  max-width: 900px;
  margin: 0 auto;
}

.volatilidad-article .vol-article-section {
  margin-bottom: 2.5rem;
}

.volatilidad-article .vol-article-section:last-child {
  margin-bottom: 0;
}

.volatilidad-article .vol-section-title {
  font-size: clamp(1.1rem, 1.8vw, 1.35rem);
  font-weight: 600;
  color: var(--accent-blue);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border-subtle);
}

.volatilidad-article .vol-section-body {
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 1.25rem;
}

.volatilidad-article .vol-two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-top: 1.25rem;
}

.vol-concept-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem 1.35rem;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.vol-concept-card:hover {
  border-color: var(--border-accent);
  box-shadow: var(--shadow-card);
}

.vol-concept-card.vol-card-teal {
  border-top: 3px solid rgba(45, 212, 191, 0.6);
}

.vol-concept-card.vol-card-orange {
  border-top: 3px solid rgba(251, 146, 60, 0.6);
}

.vol-concept-card .vol-card-icon {
  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--accent-blue);
  margin-bottom: 0.5rem;
}

.vol-card-teal .vol-card-icon { color: rgba(45, 212, 191, 0.9); }
.vol-card-orange .vol-card-icon { color: rgba(251, 146, 60, 0.9); }

.vol-concept-card .vol-card-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  line-height: 1.3;
}

.vol-concept-card .vol-card-body {
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.6;
}

.vol-table-wrap {
  overflow-x: auto;
  margin-top: 1rem;
  border-radius: var(--radius-md);
  border: 1px solid var(--border-subtle);
}

.vol-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
}

.vol-table th {
  background: var(--bg-soft);
  color: var(--text-secondary);
  padding: 0.75rem 1rem;
  text-align: left;
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  border-bottom: 1px solid var(--border-subtle);
}

.vol-table td {
  padding: 0.85rem 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
  color: var(--text-secondary);
}

.vol-table tbody tr:last-child td {
  border-bottom: none;
}

.vol-table tbody tr:hover td {
  background: rgba(255, 255, 255, 0.02);
}

.vol-table td:first-child {
  font-weight: 500;
  color: var(--text-primary);
}

.vol-rules-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-top: 1rem;
}

.vol-rule-item {
  display: flex;
  gap: 1.25rem;
  padding: 1.25rem 1.35rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  border-left: 4px solid var(--accent-blue);
  transition: border-color var(--transition-fast);
}

.vol-rule-item:hover {
  border-color: var(--border-accent);
}

.vol-rule-num {
  flex-shrink: 0;
  width: 2.25rem;
  height: 2.25rem;
  border-radius: 50%;
  background: linear-gradient(145deg, var(--accent-blue), #3b82f6);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

.vol-rule-content {
  font-size: 0.95rem;
  color: var(--text-secondary);
  line-height: 1.6;
}

.vol-rule-content strong {
  color: var(--text-primary);
}

.vol-scenario {
  padding: 1.25rem 1.5rem;
  border-radius: var(--radius-md);
  margin-bottom: 1rem;
}

.vol-scenario:last-child {
  margin-bottom: 0;
}

.vol-scenario-bear {
  background: rgba(248, 113, 113, 0.06);
  border: 1px solid rgba(248, 113, 113, 0.2);
}

.vol-scenario-bull {
  background: rgba(74, 222, 128, 0.06);
  border: 1px solid rgba(74, 222, 128, 0.2);
}

.vol-scenario-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
}

.vol-scenario-bear .vol-scenario-title { color: rgba(248, 113, 113, 0.95); }
.vol-scenario-bull .vol-scenario-title { color: rgba(74, 222, 128, 0.95); }

.vol-scenario p {
  font-size: 0.9rem;
  color: var(--text-secondary);
  line-height: 1.65;
  margin: 0;
}

.vol-formula-block {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.vol-formula-block:last-child {
  margin-bottom: 0;
}

.vol-formula-label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--accent-blue);
  margin-bottom: 0.5rem;
}

.vol-formula-display {
  font-family: 'DM Mono', monospace;
  font-size: 0.95rem;
  color: var(--text-primary);
  letter-spacing: 0.02em;
}

.vol-formula-note {
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-top: 0.5rem;
  line-height: 1.5;
}

.vol-formula-purple .vol-formula-label { color: rgba(139, 92, 246, 0.9); }

/* VIX Spread: charts, infographic, strategy cards */
.vol-charts-grid { max-width: 1000px; margin: 0 auto 2rem; }
.vol-infographic-frame {
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid var(--border-subtle);
  margin-bottom: 2rem;
}
.vol-infographic-img { width: 100%; height: auto; display: block; }
.vol-charts-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1.25rem; }
.vol-chart-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem;
  border-top: 3px solid var(--accent-blue);
}
.vol-chart-title { font-size: 0.8rem; font-weight: 700; color: var(--accent-blue); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.25rem; }
.vol-chart-subtitle { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 1rem; }
.vol-chart-canvas { max-height: 200px; width: 100% !important; }
.vol-strategies-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
.vol-strategy-card { grid-column: span 1; }
.vol-strategy-highlight { grid-column: 1 / -1; border-color: rgba(34, 211, 238, 0.4) !important; }
.vol-strategy-badges { margin-bottom: 0.5rem; }
.vol-badge { display: inline-block; font-size: 0.65rem; font-weight: 600; padding: 2px 8px; border-radius: 4px; margin-right: 0.35rem; }
.vol-badge-short { background: rgba(248, 113, 113, 0.2); color: #f87171; }
.vol-badge-long { background: rgba(52, 211, 153, 0.2); color: #34d399; }
.vol-badge-normal { background: rgba(148, 163, 184, 0.2); color: #94a3b8; }
.vol-badge-rare { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
.vol-badge-ratio { background: rgba(96, 165, 250, 0.2); color: var(--accent-blue); }

/* VIX Spread: charts subsection + ratio band + glossary */
.vol-charts-subsection { margin-bottom: 2rem; }
.vol-subsection-title {
  font-size: 1rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.12em;
  color: var(--text-secondary); margin-bottom: 1rem; padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border-subtle);
}
.vol-charts-subsection .vol-charts-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 1.25rem;
}
@media (max-width: 640px) {
  .vol-charts-subsection .vol-charts-grid { grid-template-columns: 1fr; }
}
.vol-ratio-band {
  display: flex; align-items: center; gap: 0; margin-top: 0.75rem;
  border-radius: 8px; overflow: hidden; height: 28px;
}
.vol-ratio-contango {
  flex: 1; background: linear-gradient(90deg, rgba(52,211,153,0.25), rgba(52,211,153,0.1));
  display: flex; align-items: center; justify-content: center;
  font-size: 0.7rem; font-weight: 600; color: #34d399;
  border: 1px solid rgba(52,211,153,0.2); border-radius: 8px 0 0 8px;
}
.vol-ratio-mid { width: 2px; height: 100%; background: var(--text-muted); }
.vol-ratio-backwardation {
  flex: 1; background: linear-gradient(90deg, rgba(248,113,113,0.1), rgba(248,113,113,0.25));
  display: flex; align-items: center; justify-content: center;
  font-size: 0.7rem; font-weight: 600; color: #f87171;
  border: 1px solid rgba(248,113,113,0.2); border-radius: 0 8px 8px 0;
}
.vol-glossary-section {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.5rem 1.5rem;
  margin-top: 2rem;
}
.vol-glossary-title {
  font-size: 0.95rem; font-weight: 700; color: var(--text-primary);
  margin-bottom: 1.25rem; display: flex; align-items: center; gap: 0.5rem;
}
.vol-glossary-title::after {
  content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, var(--border-subtle), transparent);
}
.vol-glossary-grid {
  display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;
}
@media (max-width: 768px) {
  .vol-glossary-grid { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 480px) {
  .vol-glossary-grid { grid-template-columns: 1fr; }
}
.vol-glossary-item {
  padding: 1rem;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
}
.vol-glossary-term {
  font-size: 0.8rem; font-weight: 700; color: var(--accent-blue);
  margin-bottom: 0.35rem;
}
.vol-glossary-def {
  font-size: 0.8rem; color: var(--text-secondary); line-height: 1.5;
}

/* Espejismo: curves, VVIX */
.vol-curves-section { margin-bottom: 2.5rem; }
.vol-curves-toggle { display: flex; gap: 0; margin-bottom: 1.25rem; border: 1px solid var(--border-subtle); border-radius: var(--radius-md); overflow: hidden; width: fit-content; }
.vol-toggle-btn {
  padding: 0.65rem 1.25rem; font-size: 0.8rem; font-weight: 600; border: none; background: transparent;
  color: var(--text-muted); cursor: pointer; transition: all 0.2s;
}
.vol-toggle-teal { background: rgba(45, 212, 191, 0.15); color: #2dd4bf; }
.vol-toggle-orange { background: rgba(251, 146, 60, 0.15); color: #fb923c; }
.vol-chart-wrap, .vol-vvix-wrap {
  position: relative;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem;
  margin-bottom: 1rem;
}
.vol-chart-tooltip {
  position: absolute;
  background: rgba(10, 18, 38, 0.95);
  border: 1px solid var(--border-accent);
  border-radius: 10px;
  padding: 10px 14px;
  pointer-events: none;
  font-size: 12px;
  line-height: 1.6;
  color: var(--text-secondary);
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 20;
  white-space: nowrap;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
}
[data-theme="day"] .vol-chart-tooltip {
  background: rgba(248, 250, 252, 0.98);
  color: var(--text-secondary);
  border-color: var(--border-accent);
}
.vol-chart-header { display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center; margin-bottom: 1rem; }
.vol-chart-label { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; }
.vol-label-teal { color: #2dd4bf; }
.vol-label-orange { color: #fb923c; }
.vol-chart-legend { display: flex; flex-wrap: wrap; gap: 1rem; }
.vol-legend-item { display: flex; align-items: center; gap: 0.35rem; font-size: 0.75rem; color: var(--text-secondary); }
.vol-legend-dot { width: 8px; height: 8px; border-radius: 50%; }
.vol-svg-chart { width: 100%; max-height: 260px; }
.vol-vvix-wrap .vol-svg-chart { max-height: 200px; }
.vol-chart-annot, .vol-vvix-note { font-size: 0.8rem; color: var(--text-muted); margin-top: 0.75rem; font-style: italic; }

/* Stats, dashboard */
.vol-stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem; }
.vol-stat-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem;
  border-top: 3px solid var(--accent-blue);
}
.vol-stat-teal { border-top-color: #2dd4bf; }
.vol-stat-orange { border-top-color: #fb923c; }
.vol-stat-purple { border-top-color: #c084fc; }
.vol-stat-gold { border-top-color: #fbbf24; }
.vol-stat-green { border-top-color: #4ade80; }
.vol-stat-red { border-top-color: #f87171; }
.vol-stat-num { font-size: 1.5rem; font-weight: 700; color: var(--accent-blue); margin-bottom: 0.5rem; }
.vol-stat-label { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }
.vol-stat-note { font-size: 0.85rem; font-style: italic; margin-top: 1rem; }
.vol-dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem; }
.vol-dash-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem;
}
.vol-dash-ticker { font-size: 0.9rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.75rem; }
.vol-dash-metric { display: flex; justify-content: space-between; font-size: 0.85rem; margin-bottom: 0.35rem; }
.vol-dash-val { font-weight: 600; color: var(--accent-blue); }
.vol-amber { color: #fbbf24 !important; }
.vol-orange { color: #fb923c !important; }
.vol-dash-note { font-size: 0.75rem; color: var(--text-muted); margin-top: 0.5rem; }

/* Mano Invisible: flow, GEX */
.vol-flow-section { margin-bottom: 2.5rem; }
.vol-scenario-tabs { display: flex; gap: 0; margin-bottom: 1.25rem; border: 1px solid var(--border-subtle); border-radius: var(--radius-md); overflow: hidden; width: fit-content; }
.vol-tab-btn {
  padding: 0.65rem 1.25rem; font-size: 0.8rem; font-weight: 600; border: none; background: transparent;
  color: var(--text-muted); cursor: pointer; transition: all 0.2s;
}
.vol-tab-up { background: rgba(248, 113, 113, 0.15); color: #f87171; }
.vol-tab-down { background: rgba(74, 222, 128, 0.15); color: #4ade80; }
.vol-flow-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem; }
.vol-flow-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: 1.25rem;
}
.vol-flow-header { display: flex; flex-wrap: wrap; gap: 0.5rem; align-items: center; margin-bottom: 0.75rem; }
.vol-flow-badge { font-size: 0.7rem; font-weight: 700; padding: 3px 8px; border-radius: 4px; }
.vol-badge-sell { background: rgba(248, 113, 113, 0.2); color: #f87171; }
.vol-badge-buy { background: rgba(74, 222, 128, 0.2); color: #4ade80; }
.vol-flow-type { font-size: 0.85rem; font-weight: 600; color: var(--text-primary); }
.vol-flow-body .flow-mini-chart { width: 100%; height: 60px; margin-bottom: 0.75rem; }
.vol-flow-desc { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.55; margin-bottom: 0.75rem; }
.vol-flow-desc strong { color: var(--text-primary); }
.vol-delta-meter { font-size: 0.75rem; }
.vol-delta-track { height: 6px; background: var(--bg-soft); border-radius: 3px; overflow: hidden; margin-top: 0.25rem; }
.vol-delta-fill { height: 100%; border-radius: 3px; transition: width 0.3s; }
.vol-delta-fill.neg { background: #f87171; }
.vol-delta-fill.pos { background: #4ade80; }
.vol-gex-visual { margin-top: 1.5rem; padding: 1.25rem; background: var(--bg-card); border-radius: var(--radius-md); border: 1px solid var(--border-subtle); }
.vol-gex-label { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent-blue); margin-bottom: 0.75rem; }
.vol-gex-track { display: flex; height: 12px; border-radius: 6px; overflow: hidden; background: var(--bg-soft); margin-bottom: 0.5rem; }
.vol-gex-fill { transition: width 0.3s; }
.vol-gex-neg { background: linear-gradient(90deg, #f87171, #ef4444); }
.vol-gex-pos { background: linear-gradient(90deg, #4ade80, #22c55e); }
.vol-gex-center { width: 30%; background: var(--text-muted); opacity: 0.5; }
.vol-gex-labels { display: flex; justify-content: space-between; font-size: 0.7rem; color: var(--text-muted); margin-bottom: 1rem; }
.vol-gex-cards { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.vol-gex-card { padding: 1rem; border-radius: var(--radius-sm); border: 1px solid var(--border-subtle); }
.vol-gex-neg-card { border-left: 4px solid #f87171; }
.vol-gex-pos-card { border-left: 4px solid #4ade80; }
.vol-gex-card-sub { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; margin-bottom: 0.25rem; }
.vol-gex-neg-card .vol-gex-card-sub { color: #f87171; }
.vol-gex-pos-card .vol-gex-card-sub { color: #4ade80; }
.vol-gex-card-title { font-size: 0.95rem; font-weight: 600; margin-bottom: 0.5rem; }
.vol-gex-card-body { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }
.vol-gex-stat-pill {
  display: inline-flex; align-items: center; gap: 0.35rem;
  margin-top: 0.5rem; padding: 0.35rem 0.75rem; border-radius: 6px;
  font-size: 0.75rem; font-weight: 700;
  border: 1px solid var(--border-subtle);
}
.vol-gex-stat-red   { background: rgba(248, 113, 113, 0.12); color: #f87171; }
.vol-gex-stat-green { background: rgba(74, 222, 128, 0.12);  color: #4ade80; }

/* OPEX */
.vol-opex-timeline { display: flex; align-items: stretch; gap: 1rem; margin: 1rem 0; flex-wrap: wrap; }
.vol-opex-phase { flex: 1; min-width: 200px; padding: 1.25rem; border-radius: var(--radius-md); border: 1px solid var(--border-subtle); background: var(--bg-card); }
.vol-opex-pre { border-left: 4px solid #f87171; }
.vol-opex-post { border-left: 4px solid #4ade80; }
.vol-opex-label { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: var(--text-muted); margin-bottom: 0.25rem; }
.vol-opex-val { font-size: 1.25rem; font-weight: 700; margin-bottom: 0.5rem; }
.vol-opex-pre .vol-opex-val { color: #f87171; }
.vol-opex-post .vol-opex-val { color: #4ade80; }
.vol-opex-desc { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }
.vol-opex-arrow { display: flex; align-items: center; font-size: 1.25rem; color: var(--text-muted); }
.vol-opex-note { font-size: 0.9rem; color: var(--text-secondary); margin-top: 1rem; }

/* IVR: example, earnings */
.vol-example-box { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: var(--radius-md); padding: 1.25rem; margin-top: 1rem; }
.vol-ex-title { font-size: 0.9rem; font-weight: 700; color: var(--accent-blue); margin-bottom: 0.75rem; }
.vol-ex-body { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 0.75rem; }
.vol-result-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0; }
.vol-result-pill { display: flex; flex-direction: column; gap: 0.35rem; padding: 1rem; background: rgba(255,255,255,0.03); border-radius: var(--radius-sm); }
.vol-pill-badge { font-size: 0.85rem; font-weight: 700; }
.vol-pill-low { color: #f87171; }
.vol-pill-high { color: #4ade80; }
.vol-pill-text { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }
.vol-earnings-box { background: rgba(251, 191, 36, 0.06); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: var(--radius-md); padding: 1.25rem; margin-top: 1rem; }
.vol-earnings-tactic { font-size: 0.8rem; font-weight: 700; color: #fbbf24; margin-bottom: 0.5rem; }
.vol-earnings-title { font-size: 0.9rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem; }
.vol-earnings-body { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; }
.vol-reversion-card { border-top: 3px solid var(--accent-blue) !important; }
.vol-compare-table td:nth-child(2) { color: var(--accent-blue); }
.vol-compare-table td:nth-child(3) { color: #c084fc; }
.vol-signal-badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; background: rgba(96, 165, 250, 0.2); color: var(--accent-blue); }
.vol-signal-ivp { background: rgba(192, 132, 252, 0.2); color: #c084fc; }

/* Disclaimer */
.vol-disclaimer-section { background: var(--bg-secondary); }
.vol-disclaimer-box { max-width: 800px; margin: 0 auto; padding: 1.5rem; background: rgba(251, 191, 36, 0.05); border: 1px solid rgba(251, 191, 36, 0.25); border-radius: var(--radius-md); }
.vol-disclaimer-title { font-size: 0.9rem; font-weight: 700; color: #fbbf24; margin-bottom: 0.75rem; }
.vol-disclaimer-text { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.7; }

@media (max-width: 768px) {
  .volatilidad-cycle {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
    min-height: 0;
  }

  .volatilidad-cycle-center {
    position: static;
    transform: none;
    width: auto;
    height: auto;
    margin: 1.25rem auto;
    border-radius: var(--radius-md);
    padding: 1rem 1.5rem;
    background: linear-gradient(135deg, rgba(74, 158, 255, 0.25), rgba(124, 58, 237, 0.25));
  }

  .volatilidad-cycle-badge {
    font-size: 0.8rem;
    letter-spacing: 0.1em;
  }

  .volatilidad-cycle-arrows {
    display: none;
  }

  .volatilidad-strategy {
    flex-direction: column;
    gap: 1rem;
  }

  .volatilidad-strategy:hover {
    transform: translateY(-2px);
  }
  .volatilidad-article .vol-two-col {
    grid-template-columns: 1fr;
  }
  .vol-rule-item {
    flex-direction: column;
    gap: 0.75rem;
  }
  .vol-charts-row { grid-template-columns: 1fr; }
  .vol-strategies-grid { grid-template-columns: 1fr; }
  .vol-strategy-highlight { grid-column: 1; }
  .vol-stats-row { grid-template-columns: 1fr; }
  .vol-dashboard-grid { grid-template-columns: 1fr; }
  .vol-flow-grid { grid-template-columns: 1fr; }
  .vol-gex-cards { grid-template-columns: 1fr; }
  .vol-opex-timeline { flex-direction: column; }
  .vol-opex-arrow { transform: rotate(90deg); }
  .vol-result-row { grid-template-columns: 1fr; }
}

/* ---- Utility ---- */
.text-center { text-align: center; }
.mt-1 { margin-top: 0.5rem; }
.mt-2 { margin-top: 1rem; }
.mb-2 { margin-bottom: 1rem; }
.is-hidden { display: none !important; }

/* ---- Odoo frontend overrides ---- */
#wrapwrap,
#wrapwrap body,
#wrapwrap main,
#wrapwrap .section,
#wrapwrap .container,
#wrapwrap .hero-content,
#wrapwrap .hero-body,
#wrapwrap h1,
#wrapwrap h2,
#wrapwrap h3,
#wrapwrap h4,
#wrapwrap h5,
#wrapwrap h6,
#wrapwrap p,
#wrapwrap .hero-headline-gradient,
#wrapwrap .hero-sub,
#wrapwrap .guide-section-title,
#wrapwrap .analysis-section-title,
#wrapwrap .analysis-desc,
#wrapwrap .volatilidad-intro .hero-content,
#wrapwrap .vol-rules-list,
#wrapwrap .vol-flow-desc {
  text-align: left !important;
}
#wrapwrap .hero.hero-center,
#wrapwrap .hero.hero-center .hero-content,
#wrapwrap .hero.hero-center .hero-body,
#wrapwrap .hero.hero-center .hero-headline-gradient,
#wrapwrap .hero.hero-center .hero-underline,
#wrapwrap .text-center {
  text-align: center !important;
}

/* RTL adjustments */
body.rtl .nav-main a { border-bottom: none; border-left: 2px solid transparent; }
body.rtl .nav-main a:hover,
body.rtl .nav-main a.active { border-left-color: var(--accent-blue); }
body.rtl .two-col-list li { padding-left: 0; padding-right: 1.25rem; }
body.rtl .two-col-list li::before { left: auto; right: 0; }

</style>
</head>
<body>

  <header class="site-header">
    <div class="container">
      <a href="index.html" class="logo">
      <span class="logo__brand">
        <span class="logo__text">GEX</span>
        <span class="logo__tagline">ZONE</span>
      </span>
      <span class="logo__bars" aria-hidden="true">
        <span class="logo__bar"></span>
        <span class="logo__bar"></span>
        <span class="logo__bar"></span>
        <span class="logo__bar"></span>
      </span>
    </a>
      <button type="button" class="nav-toggle" id="nav-toggle" aria-label="Abrir menú"><span></span><span></span><span></span></button>
      <ul class="nav-main" id="nav-main">
        <li><a href="formacion.html" data-i18n="nav.formacion">Formación</a></li>
        <li><a href="trading-room.html" data-i18n="nav.tradingRoom">Trading Room</a></li>
        <li><a href="recursos.html" class="active" data-i18n="nav.recursos">Recursos</a></li>
        <li><a href="volatilidad.html" data-i18n="nav.volatilidad">Volatilidad</a></li>
        <li><a href="software-bots.html" data-i18n="nav.software">Software / Bots</a></li>
        <li><a href="contacto.html" data-i18n="nav.contacto">Contacto</a></li>
      </ul>
      <div class="header-actions">
        <button type="button" class="btn-icon header-lang-toggle" id="lang-toggle" aria-label="Cambiar idioma">ES/AR</button>
        <button type="button" class="btn-icon header-theme-toggle" id="theme-toggle" aria-label="Cambiar a modo claro"><span class="theme-toggle-icon" aria-hidden="true">☀</span></button>
      </div>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container" style="max-width: 1100px;">
        <header class="recursos-hero">
          <p class="recursos-badge">Recursos</p>
          <h1>Recursos de alto rendimiento</h1>
          <p class="recursos-tagline">El trader moderno no necesita más opiniones, necesita mejores datos.</p>
          <p class="recursos-intro-p">A continuación, presentamos la selección de herramientas, fuentes de datos, modelos de probabilidad y registros institucionales gratuitos. Sin ruido. Sin sesgos. Solo información cruda para quienes entienden que operar es, ante todo, un proceso analítico de datos.</p>
        </header>
        <div class="program-card">
          <h3>Pensar como un Market Maker</h3>
          <p class="subtitle">Te revelamos cómo los flujos institucionales, las exposiciones de las opciones y la microestructura del mercado definen el movimiento real del precio. Exploraremos la lectura de griegas ocultas para la mayoría de traders, ponderaremos la tipología de flujos institucionales, y te enseñaremos a estudiar las exposures realmente útiles, para formar una mente analítica capaz de interpretar el mercado desde los datos, no desde la intuición.</p>
          <p class="subtitle">A través de una metodología rigurosa, los alumnos aprenden a pensar y operar como los market makers, comprendiendo las verdaderas fuerzas detrás del spot: gamma, vanna, charm, delta, speed, color, vomma, zomma y más.</p>
          <a href="formacion.html" class="btn btn-primary mt-2">Acceder a la formación</a>
        </div>
        <div class="recursos-category-title">I. Pilares de valoración</div>
        <div class="recursos-grid">
          <a href="https://pages.stern.nyu.edu/~adamodar/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>Aswath Damodaran</h3>
              <p>Referencia académica para datos crudos sobre primas de riesgo y múltiplos sectoriales sin sesgo comercial.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://www.michaelmauboussin.com/writing" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>Michael Mauboussin</h3>
              <p>Análisis avanzado sobre la toma de decisiones bajo incertidumbre y la lógica de la ventaja competitiva.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://www.oaktreecapital.com/insights" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>Howard Marks (Oaktree)</h3>
              <p>Lectura crítica para identificar cambios de régimen en el ciclo de mercado y la transición de liquidez.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
        </div>

        <div class="recursos-category-title">II. Opciones y volatilidad</div>
        <div class="recursos-grid">
          <a href="http://vixcentral.com/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>VIX Central</h3>
              <p>Monitorización de la estructura de plazos de la volatilidad. Detección de anomalías en la curva de futuros.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://www.cmegroup.com/tools-information/quikstrike.html" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>QuickStrike</h3>
              <p>Análisis de grado institucional para el estudio de las griegas y el posicionamiento real de strikes.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://www.tradingster.com/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>Tradingster</h3>
              <p>Visualización del posicionamiento de grandes operadores mediante informes COT (Commitment of Traders).</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
        </div>

        <div class="recursos-category-title">III. Datos macro y oficiales</div>
        <div class="recursos-grid">
          <a href="https://fred.stlouisfed.org/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>FRED (St. Louis Fed)</h3>
              <p>Acceso a miles de series temporales para el análisis de correlaciones y fundamentales económicos.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="http://www.worldgovernmentbonds.com" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>World Gov Bonds</h3>
              <p>Análisis de deuda soberana y curvas de tipos mundiales. La base de la valoración de activos.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://tradingeconomics.com/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>Trading Economics</h3>
              <p>Calendario de indicadores macroeconómicos globales con alta precisión y baja latencia.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
        </div>

        <div class="recursos-category-title">IV. Análisis cuantitativo</div>
        <div class="recursos-grid">
          <a href="https://seeing-theory.brown.edu/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>Seeing Theory</h3>
              <p>Visualización interactiva de estadística y probabilidad aplicada a la gestión del riesgo.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://roic.ai/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>ROIC.ai</h3>
              <p>Extracción visual de fundamentales históricos y eficiencia de capital en 20 años de datos.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
          <a href="https://www.worldtimebuddy.com/" class="recursos-card" target="_blank" rel="noopener noreferrer">
            <div>
              <h3>World Time Buddy</h3>
              <p>Coordinación visual de sesiones. Precisión en el solapamiento de ventanas de volatilidad.</p>
            </div>
            <span class="recursos-link-text">Ver fuente →</span>
          </a>
        </div>

        <!-- Análisis: ¿Breakout Real o Fake Out? (gex_zone_analisis_completo) -->
        <!-- <section class="analysis-inline recursos-analysis-block" aria-labelledby="recursos-analysis-heading" style="margin-top: 3rem;">
          <div class="container">
            <header class="analysis-hero">
              <p class="analysis-badge">Análisis</p>
              <h2 id="recursos-analysis-heading">¿Breakout real o fake out?</h2>
              <p>Claves para leer el flujo de opciones y distinguir movimiento real de trampas de liquidez.</p>
            </header>
            <article class="analysis-main">
              <h3 class="analysis-section-title">Cómo interpretar el movimiento</h3>
              <div class="analysis-steps">
                <div class="analysis-numbered-item">
                  <div class="analysis-number-wrap"><span class="analysis-number">1</span></div>
                  <div>
                    <div class="analysis-item-title">Flujo agresivo de prima de call (compra front-loaded)</div>
                    <p class="analysis-desc">Viste prima de call rápida y apilada a través de múltiples strikes <span class="analysis-highlight">mientras el precio se disparó hacia arriba</span>. Esto a menudo refleja:</p>
                    <p class="analysis-bullet">Un algoritmo persiguiendo momentum o reaccionando a noticias.</p>
                    <p class="analysis-bullet">Dealers o instituciones cubriendo deltas dinámicamente (comprando futuros/acciones mientras se compran calls).</p>
                    <p class="analysis-bullet">Traders front-running exposición gamma, especialmente si esos strikes estaban cerca de ATM o en niveles populares.</p>
                  </div>
                </div>
                <div class="analysis-numbered-item">
                  <div class="analysis-number-wrap"><span class="analysis-number">2</span></div>
                  <div>
                    <div class="analysis-item-title">Exposición gamma del dealer e impacto de cobertura</div>
                    <p class="analysis-desc">Si el mercado tenía gamma corta neta (los dealers habían vendido esos calls), los precios en alza los obligarían a <span class="analysis-highlight">comprar más para cubrir, acelerando el movimiento hacia arriba</span>. Eso crea el spike.</p>
                  </div>
                </div>
                <div class="analysis-numbered-item">
                  <div class="analysis-number-wrap"><span class="analysis-number">3</span></div>
                  <div>
                    <div class="analysis-item-title">Sin seguimiento = barrido de liquidez o trampa</div>
                    <p class="analysis-desc">El hecho de que se contrajo de 5825 → 5811 significa:</p>
                    <p class="analysis-bullet">Los compradores no estaban tratando de mantener—estaban extrayendo liquidez.</p>
                    <p class="analysis-bullet">Podría haber sido una <span class="analysis-highlight">stop hunt, scalp gamma, o falso breakout</span>.</p>
                    <p class="analysis-bullet">El flujo de calls podría no haber sido convicción direccional—podría haber sido <span class="analysis-highlight">creadores de mercado o HFTs alimentando spikes de prima</span>.</p>
                  </div>
                </div>
              </div>
            </article>
            <div class="analysis-scenarios-box">
              <h3 class="analysis-scenarios-title">Escenarios posibles</h3>
              <div class="analysis-scenarios-grid">
                <div class="analysis-scenario-item">Headline released, algos reaccionaron, pujaron el mercado.</div>
                <div class="analysis-scenario-item">Cascada stop-loss (un barrido para activar stops y empujar hacia zonas ilíquidas).</div>
                <div class="analysis-scenario-item">Cobertura gamma a corto plazo por dealers, luego el posicionamiento se reinició o revirtió.</div>
                <div class="analysis-scenario-item">Longs atrapados que persiguieron calls tardíos en el spike, llevando a la reversión rápida.</div>
              </div>
            </div>
            <div class="analysis-sections-grid">
              <div class="analysis-section">
                <h3 class="analysis-section-title">Movimiento bajista y primas de put</h3>
                <p class="analysis-desc">Probablemente estés viendo un barrido de liquidez a la baja o una liquidación impulsada por el pánico:</p>
                <div class="analysis-scenario">
                  <div class="analysis-scenario-title">Escenario A: Gamma larga (dealers con puts largas netas)</div>
                  <p class="analysis-bullet">Los dealers compran en la caída para cubrir (flujo de apoyo).</p>
                  <p class="analysis-bullet">Las compras masivas de puts no aceleran el movimiento hacia abajo - el mercado absorbe y <span class="analysis-highlight">puede incluso conducir a un rebote</span>.</p>
                </div>
                <div class="analysis-scenario">
                  <div class="analysis-scenario-title">Escenario B: Gamma corta (dealers con puts cortas netas)</div>
                  <p class="analysis-bullet">Los puts se compran agresivamente → los dealers <span class="analysis-highlight">deben vender futuros o acciones</span> para cubrir, empujando el precio hacia abajo más rápido.</p>
                  <p class="analysis-bullet">Primas de put grandes en strikes OTM o ATM con precio cayendo = <span class="analysis-highlight">cascada de venta forzada</span>.</p>
                </div>
                <div class="analysis-signs">
                  <div class="analysis-signs-title">Señales</div>
                  <p class="analysis-bullet">Puts near-the-money se iluminan con grandes $$.</p>
                  <p class="analysis-bullet">Precio cae rápido por strikes clave; a menudo se sobrepasa y rebota si la liquidez se agota.</p>
                </div>
              </div>
              <div class="analysis-section">
                <h3 class="analysis-section-title">Calls y puts subiendo a la vez</h3>
                <p class="analysis-desc">Suele <span class="analysis-highlight">no ser</span> convicción direccional, sino:</p>
                <div class="analysis-scenario">
                  <div class="analysis-scenario-title">Escenario A: Cobertura o straddle (apuesta de volatilidad)</div>
                  <p class="analysis-bullet">Los traders juegan ambos lados—esperan un gran movimiento sin dirección definida.</p>
                  <p class="analysis-bullet">Algoritmos pujando calls y puts para capturar expansión de IV o escalado gamma.</p>
                </div>
                <div class="analysis-scenario">
                  <div class="analysis-scenario-title">Escenario B: Creadores de mercado / wings</div>
                  <p class="analysis-bullet">Calls y puts disparados por <span class="analysis-highlight">arbitraje de volatilidad</span> o flujos por noticias.</p>
                  <p class="analysis-bullet">Dealers ajustan deltas y gammas en ambos lados → <span class="analysis-highlight">fakeouts, whipsaws, formas en V</span>.</p>
                </div>
                <div class="analysis-signs">
                  <div class="analysis-signs-title">Qué observar</div>
                  <p class="analysis-bullet">Ambos lados iluminados y <span class="analysis-highlight">precio quieto</span> → IV expandiéndose.</p>
                  <p class="analysis-bullet">Ambos iluminados y <span class="analysis-highlight">precio salta arriba/abajo</span> → flip o reset de squeeze gamma.</p>
                </div>
              </div>
            </div>
            <div class="analysis-summary-wrap">
              <h3 class="analysis-section-title">Resumen</h3>
              <table class="analysis-table">
                <thead>
                  <tr>
                    <th>Tipo de movimiento</th>
                    <th>Flujo dominante</th>
                    <th>Resultado probable</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="row-alcista">
                    <td>Spike alcista</td>
                    <td>Prima de Call</td>
                    <td>Persecución gamma, squeeze, trampa potencial</td>
                  </tr>
                  <tr class="row-bajista">
                    <td>Spike bajista</td>
                    <td>Prima de Put</td>
                    <td>Liquidación gamma, pánico de venta, posible flush y rebote</td>
                  </tr>
                  <tr class="row-ambos">
                    <td>Ambos lados</td>
                    <td>Call + Put</td>
                    <td>Apuesta de volatilidad, whipsaws, recalibración del dealer</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section> -->

        <div class="recursos-simulator-wrap sim-cyberpunk" id="simulator-wrap">
          <div class="recursos-simulator-header">
            <h2 class="recursos-simulator-title">Simulador Delta Hedging</h2>
            <p class="recursos-simulator-desc">Herramienta interactiva para explorar la cobertura delta: ajusta spot, strike, volatilidad y días al vencimiento. Observa el perfil de gamma, el payoff del cliente y el inventario del Market Maker en tiempo real.</p>
          </div>
          <div class="sim-inline" id="gexzone-simulator-v1">
            <div class="sim-card" style="margin-bottom: 1rem;">
              <div class="sim-card-title">Protocolos automáticos</div>
              <div class="sim-btn-group">
                <button type="button" class="sim-btn sim-btn-scenario" onclick="runGammaSqueeze()">Gamma Squeeze</button>
                <button type="button" class="sim-btn sim-btn-scenario" onclick="runVannaRally()">Vanna Rally</button>
                <button type="button" class="sim-btn sim-btn-scenario" onclick="runPinning0DTE()">Pinning 0DTE</button>
              </div>
            </div>
            <div class="sim-grid">
              <div class="sim-card">
                <div class="sim-card-title">Configuración del escenario</div>
                <div class="sim-control-group">
                  <label class="sim-control-label">Tipo de opción</label>
                  <div class="sim-btn-group">
                    <button type="button" class="sim-btn active" id="btn-call" onclick="setOptionType('call')">Call</button>
                    <button type="button" class="sim-btn" id="btn-put" onclick="setOptionType('put')">Put</button>
                  </div>
                </div>
                <div class="sim-control-group">
                  <label class="sim-control-label">Posición del strike</label>
                  <div class="sim-btn-group">
                    <button type="button" class="sim-btn" id="btn-itm" onclick="setStrike('itm')">ITM</button>
                    <button type="button" class="sim-btn active" id="btn-atm" onclick="setStrike('atm')">ATM</button>
                    <button type="button" class="sim-btn" id="btn-otm" onclick="setStrike('otm')">OTM</button>
                  </div>
                </div>
                <div class="sim-control-group">
                  <label class="sim-control-label">Precio spot <span class="sim-control-value" id="spot-value">$100.00</span></label>
                  <input type="range" class="sim-slider" id="spot-slider" min="80" max="120" value="100" step="0.5" oninput="updateSpot(this.value)">
                </div>
                <div class="sim-control-group">
                  <label class="sim-control-label">Días al vencimiento (DTE) <span class="sim-control-value" id="dte-value">15 días</span></label>
                  <input type="range" class="sim-slider" id="dte-slider" min="0" max="30" value="15" step="1" oninput="updateDTE(this.value)">
                </div>
                <div class="sim-control-group">
                  <label class="sim-control-label">Volatilidad implícita (IV) <span class="sim-control-value" id="iv-value">30%</span></label>
                  <input type="range" class="sim-slider" id="iv-slider" min="10" max="80" value="30" step="1" oninput="updateIV(this.value)">
                </div>
                <div class="sim-stats">
                  <div class="sim-stat"><div class="sim-stat-label">Delta</div><div class="sim-stat-value" id="stat-delta">0.50</div></div>
                  <div class="sim-stat"><div class="sim-stat-label">Gamma</div><div class="sim-stat-value" id="stat-gamma">0.025</div></div>
                  <div class="sim-stat"><div class="sim-stat-label">Vega</div><div class="sim-stat-value" id="stat-vega">0.15</div></div>
                </div>
              </div>
              <div class="sim-card">
                <div class="sim-card-title">Inventario del Market Maker</div>
                <div class="sim-balance-container">
                  <div class="sim-balance-title">Exposición neta</div>
                  <div class="sim-balance-bar">
                    <div class="sim-balance-client" id="balance-client">Cliente: 50%</div>
                    <div class="sim-balance-mm" id="balance-mm">MM Hedge: 50%</div>
                  </div>
                  <div class="sim-balance-labels">
                    <span>Exposición cliente</span>
                    <span>Cobertura MM</span>
                  </div>
                </div>
                <div class="sim-balance-container">
                  <div class="sim-balance-title">Acciones a comprar/vender</div>
                  <div class="sim-shares-display positive" id="shares-hedge">+250</div>
                  <div class="sim-direction-hint" id="hedge-direction">El Market Maker debe comprar acciones</div>
                </div>
                <div class="sim-balance-container">
                  <div class="sim-balance-title">Presión de mercado</div>
                  <div style="text-align: center;">
                    <div id="market-pressure" style="font-size: 1rem; font-weight: 700; color: var(--accent-blue); margin-bottom: 0.35rem;">Neutral</div>
                    <div class="sim-direction-hint" id="pressure-description">Las coberturas del MM están balanceadas</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="sim-grid">
              <div class="sim-card">
                <div class="sim-card-title">Perfil de gamma</div>
                <div class="sim-chart-container"><canvas id="gamma-chart"></canvas></div>
              </div>
              <div class="sim-card">
                <div class="sim-card-title">Payoff del cliente</div>
                <div class="sim-chart-container"><canvas id="payoff-chart"></canvas></div>
              </div>
            </div>
            <div class="sim-manual">
              <div class="sim-manual-header" onclick="toggleManual()">
                <span class="sim-manual-title">Manual de operaciones: instrucciones</span>
                <span class="sim-manual-icon" id="manual-icon">▼</span>
              </div>
              <div class="sim-manual-content" id="manual-content">
                <div class="sim-manual-body">
                  <div class="sim-manual-section">
                    <div class="sim-manual-section-title">Configura el escenario</div>
                    <p class="sim-manual-text">Selecciona Call/Put y la posición del strike (ITM/ATM/OTM). Tú eres el cliente comprando la opción. Observa cómo el Market Maker debe reaccionar mecánicamente para cubrir su exposición. Una Call ATM requiere que el MM compre aproximadamente 50 acciones por cada contrato (delta 0.5).</p>
                  </div>
                  <div class="sim-manual-section">
                    <div class="sim-manual-section-title">Manipula las variables</div>
                    <p class="sim-manual-text"><strong>DTE (Días hasta Vencimiento):</strong> Observa cómo la Gamma se vuelve extremadamente agresiva al acercarse a 0 días. Con DTE bajo, pequeños movimientos del precio fuerzan al MM a rebalancear grandes cantidades de acciones.<br><br><strong>IV (Volatilidad Implícita):</strong> Cuando la IV cae, el MM reduce sus coberturas (efecto Vanna), lo que libera presión compradora en el mercado y puede acelerar rallies alcistas.</p>
                  </div>
                  <div class="sim-manual-section">
                    <div class="sim-manual-section-title">Protocolos automáticos</div>
                    <p class="sim-manual-text"><strong>Gamma Squeeze:</strong> Simula un movimiento rápido al alza con DTE bajo. El MM se ve forzado a comprar exponencialmente más acciones a medida que el precio sube, creando un bucle de retroalimentación.<br><br><strong>Vanna Rally:</strong> La IV colapsa mientras el precio sube, forzando al MM a reducir coberturas y liberando presión alcista adicional.<br><br><strong>Pinning 0DTE:</strong> El día del vencimiento, el precio tiende a orbitar el strike más grande debido a la magnitud de las coberturas del MM.</p>
                  </div>
                  <div class="sim-manual-section">
                    <div class="sim-manual-section-title">Balanza de inventario</div>
                    <p class="sim-manual-text">Si el Market Maker está significativamente desequilibrado (más de 70% en una dirección), el mercado está cargado para un movimiento brusco. La presión del mercado indica si hay riesgo de squeeze alcista o bajista basado en las posiciones actuales.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- <div class="recursos-intro" style="margin-top: 3rem;">
          <h2 class="font-serif" style="font-size: clamp(1.5rem, 2.5vw, 1.85rem);">Manual de opciones — Glosario esencial</h2>
          <p>Conceptos base explicados con ejemplos y visualización en gráfico de riesgo: call, put, strike, vencimiento, OPEX, derecho, obligación y combinaciones básicas.</p>
        </div>
        <ul class="two-col-list" style="max-width: 800px; margin-bottom: 2rem;">
          <li>Qué es una opción: derecho vs. obligación.</li>
          <li>Diferencia entre Call y Put.</li>
          <li>Cómo se define un strike y su relevancia en la estructura del mercado.</li>
          <li>Qué implica el vencimiento y cómo afecta el valor temporal (Theta).</li>
          <li>Cómo graficar una Call, una Put y combinaciones básicas en el gráfico de riesgo.</li>
          <li>Qué es OPEX y por qué es crítico entender su efecto en el flujo.</li>
          <li>Cómo identificar posiciones sintéticas y comprender sus equivalencias.</li>
          <li>Primeras estrategias combinadas y su lectura práctica.</li>
        </ul>  -->
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="footer-grid">
      <div><a href="formacion.html">Formación</a><a href="trading-room.html">Trading Room</a><a href="recursos.html">Recursos</a></div>
      <div><a href="volatilidad.html">Volatilidad</a><a href="software-bots.html">Software / Bots</a><a href="contacto.html">Contacto</a></div>
      <div><a href="legal/terminos.html">Términos y condiciones</a><a href="legal/cookies.html">Política de cookies</a><a href="legal/aviso.html">Aviso legal / Financial advisor</a></div>
    </div>
    <div class="footer-bottom">© GEXZONE. Todos los derechos reservados.</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script>
/* GEXZONE — app.js (inline for Odoo) */
/**
 * GEXZONE — Global JS
 * Theme (day/night), language (ES/AR), nav, chatbot
 */

(function () {
  'use strict';

  const STORAGE_THEME = 'gexzone_theme';
  const STORAGE_LANG = 'gexzone_lang';

  // ---- Theme ----
  function getTheme() {
    return localStorage.getItem(STORAGE_THEME) || 'night';
  }

  function setTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    localStorage.setItem(STORAGE_THEME, theme);
    const btn = document.getElementById('theme-toggle');
    if (btn) {
      btn.setAttribute('aria-label', theme === 'night' ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro');
      var icon = btn.querySelector('.theme-toggle-icon');
      if (icon) icon.textContent = theme === 'night' ? '\u263C' : '\uD83C\uDF19';
    }
  }

  function initTheme() {
    var theme = getTheme();
    setTheme(theme);
    const btn = document.getElementById('theme-toggle');
    if (btn) {
      btn.addEventListener('click', function () {
        const current = getTheme();
        setTheme(current === 'day' ? 'night' : 'day');
      });
    }
  }

  // ---- Language (ES / AR) ----
  const i18n = {
    es: {
      nav: { formacion: 'Formación', tradingRoom: 'Trading Room', recursos: 'Recursos', volatilidad: 'Volatilidad', software: 'Software / Bots', contacto: 'Contacto' },
      footer: { terms: 'Términos y condiciones', cookies: 'Política de cookies', advisor: 'Aviso legal / Financial advisor', copyright: '© GEXZONE. Todos los derechos reservados.' },
      contact: { title: 'Contacto', intro: '¿Quieres saber si esta formación es para ti? Agenda una llamada con nuestro equipo para evaluar tu perfil y tus objetivos operativos o envíanos un mensaje directo.', bookCallTitle: 'Agendar una llamada', bookCallDesc: 'Elige el día y la hora que mejor te venga. Videollamada con un miembro del equipo para resolver dudas o evaluar tu perfil.', bookCallBtn: 'Elegir fecha y hora', bookCallHint: 'Tipo Calendly — sustituye el enlace por tu URL de Calendly, Cal.com o similar.', cta: 'Evalúa tu perfil con un experto institucional', ctaDesc: 'Una sesión con nuestro equipo para valorar tus objetivos y si la formación encaja contigo.', ctaBtn: 'Evalúa mi perfil', orMessage: 'O envíanos un mensaje', chatHint: 'Para preguntas rápidas usa el chat de la esquina; para temas extensos, agenda una llamada o escribe aquí.', name: 'Nombre', email: 'Correo electrónico', message: 'Mensaje', send: 'Enviar' },
      chatbot: { title: 'Chat GEXZONE', placeholder: 'Escribe tu mensaje...', send: 'Enviar', greeting: 'Hola. Soy el asistente de GEXZONE. Puedo responder preguntas frecuentes sobre formación y Trading Room. Para temas detallados, te recomendamos usar el formulario de contacto o agendar una llamada.' },
      testimonials: { title: 'Testimonios' },
      comingSoon: { badge: 'PRÓXIMAMENTE', title: 'Herramientas y bots en desarrollo', text: 'Estamos preparando soluciones que se integrarán con tu operativa. Muy pronto.' },
      convocatorias: { intro: '6 convocatorias anuales, con 2 meses de duración cada una y 3 sesiones semanales de 1 hora.' },
      recursos: { placeholder: 'Próximamente más recursos gratuitos: enlaces, guías y herramientas.' }
    },
    ar: {
      nav: { formacion: 'التدريب', tradingRoom: 'غرفة التداول', recursos: 'الموارد', volatilidad: 'التقلب', software: 'البرمجيات / البوتات', contacto: 'اتصل' },
      footer: { terms: 'الشروط والأحكام', cookies: 'سياسة ملفات تعريف الارتباط', advisor: 'إشعار قانوني / مستشار مالي', copyright: '© GEXZONE. جميع الحقوق محفوظة.' },
      contact: { title: 'اتصل بنا', intro: 'هل تريد معرفة ما إذا كان هذا التدريب مناسبًا لك؟ حدد موعدًا لمكالمة مع فريقنا لتقييم ملفك وأهدافك التشغيلية أو أرسل لنا رسالة مباشرة.', bookCallTitle: 'حجز مكالمة', bookCallDesc: 'اختر اليوم والوقت المناسبين. مكالمة فيديو مع أحد أعضاء الفريق للإجابة على أسئلتك أو تقييم ملفك.', bookCallBtn: 'اختيار التاريخ والوقت', bookCallHint: 'مثل Calendly — استبدل الرابط برابط Calendly أو Cal.com أو ما شابه.', cta: 'قيّم ملفك مع خبير مؤسسي', ctaDesc: 'جلسة مع فريقنا لتقييم أهدافك وما إذا كان التدريب مناسبًا لك.', ctaBtn: 'قيّم ملفي', orMessage: 'أو أرسل لنا رسالة', chatHint: 'للأسئلة السريعة استخدم الدردشة في الزاوية؛ للمواضيع الأطول، احجز مكالمة أو اكتب هنا.', name: 'الاسم', email: 'البريد الإلكتروني', message: 'الرسالة', send: 'إرسال' },
      chatbot: { title: 'دردشة GEXZONE', placeholder: 'اكتب رسالتك...', send: 'إرسال', greeting: 'مرحباً. أنا مساعد GEXZONE. يمكنني الإجابة على الأسئلة الشائعة حول التدريب وغرفة التداول. للمواضيع المفصلة نوصي باستخدام نموذج الاتصال أو تحديد مكالمة.' },
      testimonials: { title: 'الشهادات' },
      comingSoon: { badge: 'قريباً', title: 'أدوات وبوتات قيد التطوير', text: 'نحن نعد حلولاً ستتكامل مع أسلوب عملك. قريباً.' },
      convocatorias: { intro: '6 دورات سنوية، مدة كل منها شهران و3 جلسات أسبوعية ساعة واحدة.' },
      recursos: { placeholder: 'قريباً المزيد من الموارد المجانية: روابط وأدلة وأدوات.' }
    }
  };

  function getLang() {
    return localStorage.getItem(STORAGE_LANG) || 'es';
  }

  function setLang(lang) {
    localStorage.setItem(STORAGE_LANG, lang);
    document.documentElement.lang = lang === 'ar' ? 'ar' : 'es_ES';
    document.body.classList.toggle('rtl', lang === 'ar');
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    applyTranslations(lang);
  }

  function applyTranslations(lang) {
    const t = i18n[lang] || i18n.es;
    function get(obj, key) {
      const parts = key.split('.');
      let v = obj;
      for (let i = 0; i < parts.length; i++) v = v && v[parts[i]];
      return v;
    }
    document.querySelectorAll('[data-i18n]').forEach(function (el) {
      const v = get(t, el.getAttribute('data-i18n'));
      if (v != null) el.textContent = v;
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(function (el) {
      const v = get(t, el.getAttribute('data-i18n-placeholder'));
      if (v != null) el.placeholder = v;
    });
  }

  function initLang() {
    setLang(getLang());
    const btn = document.getElementById('lang-toggle');
    if (btn) {
      btn.addEventListener('click', function () {
        setLang(getLang() === 'es' ? 'ar' : 'es');
      });
    }
  }

  // ---- Mobile nav ----
  function initNav() {
    const toggle = document.getElementById('nav-toggle');
    const nav = document.getElementById('nav-main');
    if (!toggle || !nav) return;
    toggle.addEventListener('click', function () {
      nav.classList.toggle('open');
      toggle.setAttribute('aria-expanded', nav.classList.contains('open'));
    });
    document.addEventListener('click', function (e) {
      if (nav.classList.contains('open') && !nav.contains(e.target) && !toggle.contains(e.target)) {
        nav.classList.remove('open');
      }
    });
  }

  // ---- Chatbot ----
  function initChatbot() {
    const toggle = document.getElementById('chatbot-toggle');
    const panel = document.getElementById('chatbot-panel');
    const input = document.getElementById('chatbot-input');
    const sendBtn = document.getElementById('chatbot-send');
    const messages = document.getElementById('chatbot-messages');
    const lang = getLang();
    const t = i18n[lang] || i18n.es;

    if (!panel || !messages) return;

    function addMessage(text, isUser) {
      const div = document.createElement('div');
      div.className = 'chatbot-msg ' + (isUser ? 'user' : 'bot');
      div.textContent = text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    function send() {
      const value = (input && input.value) ? input.value.trim() : '';
      if (!value) return;
      addMessage(value, true);
      if (input) input.value = '';
      setTimeout(function () {
        addMessage(t.chatbot && t.chatbot.greeting ? t.chatbot.greeting : 'Gracias por tu mensaje. Un equipo te responderá pronto. Para consultas detalladas usa el formulario de contacto.', false);
      }, 600);
    }

    if (toggle) {
      toggle.addEventListener('click', function () {
        panel.classList.toggle('open');
        if (panel.classList.contains('open') && messages.children.length === 0) {
          addMessage(t.chatbot && t.chatbot.greeting ? t.chatbot.greeting : 'Hola. Soy el asistente de GEXZONE. ¿En qué puedo ayudarte?', false);
        }
      });
    }
    if (sendBtn) sendBtn.addEventListener('click', send);
    if (input) input.addEventListener('keydown', function (e) { if (e.key === 'Enter') send(); });
  }

  // ---- Active nav link ----
  function setActiveNav() {
    const path = (window.location.pathname || '').replace(/\/$/, '') || '/';
    document.querySelectorAll('.nav-main a').forEach(function (a) {
      const href = (a.getAttribute('href') || '').replace(/\/$/, '');
      const isIndex = href === '' || href === '/' || href === 'index.html';
      const isActive = (isIndex && (path === '' || path === '/' || path.endsWith('index.html'))) || (!isIndex && path.indexOf(href) !== -1);
      a.classList.toggle('active', isActive);
    });
  }

  // ---- Init ----
  function init() {
    initTheme();
    initLang();
    initNav();
    setActiveNav();
    initChatbot();
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();

</script>
  <script>
(function() {
  let state = { optionType: 'call', strikePosition: 'atm', spot: 100, strike: 100, dte: 15, iv: 0.30, r: 0.05, animating: false };
  let gammaChart, payoffChart;

  function normalCDF(x) {
    const t = 1 / (1 + 0.2316419 * Math.abs(x));
    const d = 0.3989423 * Math.exp(-x * x / 2);
    const prob = d * t * (0.3193815 + t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
    return x > 0 ? 1 - prob : prob;
  }
  function normalPDF(x) { return Math.exp(-0.5 * x * x) / Math.sqrt(2 * Math.PI); }
  function calculateD1(S, K, T, r, sigma) {
    if (T <= 0) return S > K ? 10 : -10;
    return (Math.log(S / K) + (r + 0.5 * sigma * sigma) * T) / (sigma * Math.sqrt(T));
  }
  function calculateD2(d1, T, sigma) { return T <= 0 ? d1 : d1 - sigma * Math.sqrt(T); }
  function calculateDelta(isCall, S, K, T, r, sigma) {
    if (T <= 0) { if (isCall) return S > K ? 1 : 0; return S >= K ? 0 : -1; }
    const d1 = calculateD1(S, K, T, r, sigma);
    return isCall ? normalCDF(d1) : normalCDF(d1) - 1;
  }
  function calculateGamma(S, K, T, r, sigma) {
    if (T <= 0) return 0;
    const d1 = calculateD1(S, K, T, r, sigma);
    return normalPDF(d1) / (S * sigma * Math.sqrt(T));
  }
  function calculateVega(S, K, T, r, sigma) {
    if (T <= 0) return 0;
    const d1 = calculateD1(S, K, T, r, sigma);
    return S * normalPDF(d1) * Math.sqrt(T) / 100;
  }
  function calculatePayoff(isCall, S, K) { return isCall ? Math.max(S - K, 0) : Math.max(K - S, 0); }

  function updateStrikeFromPosition() {
    switch(state.strikePosition) {
      case 'itm': state.strike = state.optionType === 'call' ? state.spot * 0.95 : state.spot * 1.05; break;
      case 'atm': state.strike = state.spot; break;
      case 'otm': state.strike = state.optionType === 'call' ? state.spot * 1.05 : state.spot * 0.95; break;
    }
  }

  window.setOptionType = function(type) {
    state.optionType = type;
    document.getElementById('btn-call').classList.toggle('active', type === 'call');
    document.getElementById('btn-put').classList.toggle('active', type === 'put');
    updateStrikeFromPosition();
    updateAll();
  };
  window.setStrike = function(position) {
    state.strikePosition = position;
    document.getElementById('btn-itm').classList.toggle('active', position === 'itm');
    document.getElementById('btn-atm').classList.toggle('active', position === 'atm');
    document.getElementById('btn-otm').classList.toggle('active', position === 'otm');
    updateStrikeFromPosition();
    updateAll();
  };
  window.updateSpot = function(value) {
    state.spot = parseFloat(value);
    document.getElementById('spot-value').textContent = '$' + state.spot.toFixed(2);
    updateStrikeFromPosition();
    updateAll();
  };
  window.updateDTE = function(value) {
    state.dte = parseInt(value);
    document.getElementById('dte-value').textContent = state.dte + ' días';
    updateAll();
  };
  window.updateIV = function(value) {
    state.iv = parseFloat(value) / 100;
    document.getElementById('iv-value').textContent = value + '%';
    updateAll();
  };

  function updateAll() {
    const T = state.dte / 365;
    const isCall = state.optionType === 'call';
    const delta = calculateDelta(isCall, state.spot, state.strike, T, state.r, state.iv);
    const gamma = calculateGamma(state.spot, state.strike, T, state.r, state.iv);
    const vega = calculateVega(state.spot, state.strike, T, state.r, state.iv);

    document.getElementById('stat-delta').textContent = delta.toFixed(3);
    document.getElementById('stat-gamma').textContent = gamma.toFixed(4);
    document.getElementById('stat-vega').textContent = vega.toFixed(3);

    const clientPct = Math.abs(delta) * 100;
    const mmPct = 100 - clientPct;
    const clientBar = document.getElementById('balance-client');
    const mmBar = document.getElementById('balance-mm');
    clientBar.style.width = clientPct + '%';
    mmBar.style.width = mmPct + '%';
    clientBar.textContent = clientPct > 10 ? 'Cliente: ' + clientPct.toFixed(0) + '%' : '';
    mmBar.textContent = mmPct > 10 ? 'MM: ' + mmPct.toFixed(0) + '%' : '';

    const contracts = 100;
    const shares = Math.round(delta * contracts * 100);
    const sharesEl = document.getElementById('shares-hedge');
    const dirEl = document.getElementById('hedge-direction');
    if (isCall) {
      sharesEl.textContent = '+' + shares;
      sharesEl.className = 'sim-shares-display positive';
      dirEl.textContent = 'El Market Maker debe comprar acciones';
    } else {
      sharesEl.textContent = shares;
      sharesEl.className = 'sim-shares-display negative';
      dirEl.textContent = 'El Market Maker debe vender acciones';
    }

    const pressureEl = document.getElementById('market-pressure');
    const descEl = document.getElementById('pressure-description');
    if (delta > 0.7) {
      pressureEl.textContent = 'Alta presión alcista';
      pressureEl.style.color = 'rgba(34, 197, 94, 0.95)';
      descEl.textContent = 'El MM necesita comprar muchas acciones — riesgo de Gamma Squeeze';
    } else if (delta < 0.3) {
      pressureEl.textContent = 'Alta presión bajista';
      pressureEl.style.color = 'rgba(248, 113, 113, 0.95)';
      descEl.textContent = 'El MM necesita vender muchas acciones — presión bajista';
    } else {
      pressureEl.textContent = 'Neutral';
      pressureEl.style.color = 'var(--accent-blue)';
      descEl.textContent = 'Las coberturas del MM están balanceadas';
    }

    if (gammaChart && payoffChart) {
      const spotRange = [], gammaData = [];
      for (let S = state.spot - 30; S <= state.spot + 30; S += 0.5) {
        spotRange.push(S);
        gammaData.push(calculateGamma(S, state.strike, T, state.r, state.iv));
      }
      gammaChart.data.labels = spotRange;
      gammaChart.data.datasets[0].data = gammaData;

      const payoffRange = [], payoffData = [];
      for (let S = state.strike - 40; S <= state.strike + 40; S += 1) {
        payoffRange.push(S);
        payoffData.push(calculatePayoff(isCall, S, state.strike));
      }
      payoffChart.data.labels = payoffRange;
      payoffChart.data.datasets[0].data = payoffData;

      gammaChart.update('none');
      payoffChart.update('none');
    }
  }

  function initCharts() {
    const gridColor = 'rgba(255, 255, 255, 0.06)';
    const tickColor = 'rgba(156, 163, 175, 0.9)';
    const commonOpts = {
      responsive: true,
      maintainAspectRatio: false,
      animation: { duration: 300 },
      plugins: { legend: { display: false } },
      scales: {
        x: { grid: { color: gridColor }, ticks: { color: tickColor, font: { size: 10 } } },
        y: { grid: { color: gridColor }, ticks: { color: tickColor, font: { size: 10 } } }
      }
    };
    const gammaCtx = document.getElementById('gamma-chart');
    if (gammaCtx) {
      gammaChart = new Chart(gammaCtx.getContext('2d'), {
        type: 'line',
        data: { labels: [], datasets: [{ data: [], borderColor: 'rgba(139, 92, 246, 0.9)', backgroundColor: 'rgba(139, 92, 246, 0.08)', borderWidth: 2, fill: true, tension: 0.4, pointRadius: 0 }] },
        options: commonOpts
      });
    }
    const payoffCtx = document.getElementById('payoff-chart');
    if (payoffCtx) {
      payoffChart = new Chart(payoffCtx.getContext('2d'), {
        type: 'line',
        data: { labels: [], datasets: [{ data: [], borderColor: 'rgba(34, 197, 94, 0.9)', backgroundColor: 'rgba(34, 197, 94, 0.08)', borderWidth: 2, fill: true, tension: 0, pointRadius: 0 }] },
        options: commonOpts
      });
    }
    updateStrikeFromPosition();
    updateAll();
  }

  async function animateValue(elementId, valueFn, duration, steps) {
    if (state.animating) return;
    state.animating = true;
    for (let i = 0; i <= steps; i++) {
      await new Promise(r => setTimeout(r, duration / steps));
      valueFn(i / steps);
      updateAll();
    }
    state.animating = false;
  }

  window.runGammaSqueeze = async function() {
    setOptionType('call');
    setStrike('atm');
    await animateValue('dte-slider', p => {
      const dte = Math.round(15 - p * 13);
      state.dte = dte;
      document.getElementById('dte-slider').value = dte;
      document.getElementById('dte-value').textContent = dte + ' días';
    }, 1500, 30);
    await new Promise(r => setTimeout(r, 300));
    await animateValue('spot-slider', p => {
      const spot = 100 + p * 15;
      state.spot = spot;
      document.getElementById('spot-slider').value = spot;
      document.getElementById('spot-value').textContent = '$' + spot.toFixed(2);
      updateStrikeFromPosition();
    }, 2000, 40);
  };

  window.runVannaRally = async function() {
    setOptionType('call');
    setStrike('atm');
    state.iv = 0.5;
    document.getElementById('iv-slider').value = 50;
    document.getElementById('iv-value').textContent = '50%';
    updateAll();
    await new Promise(r => setTimeout(r, 300));
    await animateValue('iv-slider', p => {
      const iv = Math.round(50 - p * 30);
      state.iv = iv / 100;
      document.getElementById('iv-slider').value = iv;
      document.getElementById('iv-value').textContent = iv + '%';
    }, 2000, 40);
    await new Promise(r => setTimeout(r, 300));
    await animateValue('spot-slider', p => {
      const spot = 100 + p * 10;
      state.spot = spot;
      document.getElementById('spot-slider').value = spot;
      document.getElementById('spot-value').textContent = '$' + spot.toFixed(2);
      updateStrikeFromPosition();
    }, 1500, 30);
  };

  window.runPinning0DTE = async function() {
    setOptionType('call');
    setStrike('atm');
    await animateValue('dte-slider', p => {
      const dte = Math.round(15 - p * 15);
      state.dte = dte;
      document.getElementById('dte-slider').value = dte;
      document.getElementById('dte-value').textContent = dte + ' días';
    }, 1500, 30);
    await new Promise(r => setTimeout(r, 300));
    for (let i = 0; i < 3; i++) {
      await animateValue('spot-slider', p => {
        const spot = 100 + Math.sin(p * Math.PI * 2) * 3;
        state.spot = spot;
        document.getElementById('spot-slider').value = spot;
        document.getElementById('spot-value').textContent = '$' + spot.toFixed(2);
        updateStrikeFromPosition();
      }, 1500, 30);
    }
  };

  window.toggleManual = function() {
    document.getElementById('manual-content').classList.toggle('open');
    document.getElementById('manual-icon').classList.toggle('open');
  };

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => { if (document.getElementById('gamma-chart')) initCharts(); });
  } else {
    setTimeout(() => { if (document.getElementById('gamma-chart')) initCharts(); }, 100);
  }
})();
  </script>
</body>
</html>
